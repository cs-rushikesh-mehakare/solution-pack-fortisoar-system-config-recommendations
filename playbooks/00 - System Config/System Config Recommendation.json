{
    "@context": "\/api\/3\/contexts\/Workflow",
    "@type": "Workflow",
    "triggerLimit": null,
    "name": "System Config Recommendation",
    "aliasName": null,
    "tag": null,
    "description": null,
    "isActive": true,
    "debug": true,
    "singleRecordExecution": false,
    "remoteExecutableFlag": false,
    "parameters": [],
    "synchronous": false,
    "collection": "\/api\/3\/workflow_collections\/258d3c94-304e-44cd-9390-b530bc5a0ba3",
    "versions": [
        {
            "@type": "WorkflowVersion",
            "note": "Version One",
            "json": "{\"name\":\"System Config Recommendation\",\"isActive\":true,\"debug\":true,\"singleRecordExecution\":false,\"remoteExecutableFlag\":false,\"parameters\":[],\"synchronous\":false,\"triggerStep\":\"\/api\/3\/workflow_steps\/e028ac49-8dca-4e72-a1c1-fb8bdd76b997\",\"steps\":[{\"@id\":\"\/api\/3\/workflow_steps\/8fd73054-6787-455f-a9b4-4b1f548750ea\",\"@type\":\"WorkflowStep\",\"name\":\"Based on Error Create a task for Current User\",\"description\":null,\"arguments\":{\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"tenant\":\"\",\"thread\":false,\"content\":\"<p>Error was found please view the Task Created for user {{globalVars.Current_User}}<\/p>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\"},\"resource\":{\"name\":\"{{\\\"Make sure that all commands required are installed\\\" if not (vars.system_config[\\\"error\\\"]| regex_search(\\\"PGSQL\\\") and (vars.system_config[\\\"error\\\"]| regex_search(\\\"PGSQL\\\")).strip()) else \\\"Please mount a drive for PGSQL directory\\\"}}\",\"type\":\"\/api\/3\/picklists\/30300411-a2e0-42dc-9180-513904f73ab9\",\"status\":\"\/api\/3\/picklists\/7669725a-28cc-4b19-98a3-9ca71e0f88f4\",\"priority\":\"\/api\/3\/picklists\/90088ebe-0a7d-4aa6-9c9c-93b937a4e4f8\",\"description\":\"#### Please check the following error\\n{{vars.system_config[\\\"error\\\"]}}\",\"assignedToPerson\":\"{{globalVars.Current_User}}\"},\"collection\":\"tasks\",\"step_variables\":{}},\"status\":null,\"top\":\"80\",\"left\":\"380\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/dc6ac63d-c5a5-472f-9eb4-6b18473a98b8\",\"@type\":\"WorkflowStepType\",\"name\":\"ManualTask\",\"displayName\":\"Manual Task\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/c06cd820-a031-433b-9094-220dda64b4e4\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/wait\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-manual-task\",\"background\":\"#52b200\",\"index\":240,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"dc6ac63d-c5a5-472f-9eb4-6b18473a98b8\",\"id\":12},\"group\":\"\/api\/3\/workflow_groups\/46b2eef9-1f05-4ac5-b7ab-b88729b74ad7\",\"uuid\":\"8fd73054-6787-455f-a9b4-4b1f548750ea\",\"_oldUuid\":\"8fd73054-6787-455f-a9b4-4b1f548750ea\",\"htmlEncodedName\":\"Based on Error Create a task for Current User\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/aade7fa0-1a34-4747-a56b-155403b54091\",\"@type\":\"WorkflowStep\",\"name\":\"Check For Error In Output\",\"description\":null,\"arguments\":{\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"tenant\":\"\",\"thread\":false,\"content\":\"<p>Checking for errors<\/p>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\"},\"conditions\":[{\"option\":\"is not present\",\"step_iri\":\"\/api\/3\/workflow_steps\/d08c763f-ea43-438e-bc06-ccaf4f860e06\",\"condition\":\"{{ (vars.system_config[\\\"error\\\"] is undefined) or (vars.system_config[\\\"error\\\"] == None) }}\",\"step_name\":\"Get Input Confirmation\"},{\"option\":\"is present\",\"default\":true,\"step_iri\":\"\/api\/3\/workflow_steps\/8fd73054-6787-455f-a9b4-4b1f548750ea\",\"step_name\":\"Based on Error Create a task for Current User\"}],\"step_variables\":{}},\"status\":null,\"top\":\"80\",\"left\":\"20\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/12254cf5-5db7-4b1a-8cb1-3af081924b28\",\"@type\":\"WorkflowStepType\",\"name\":\"Decision\",\"displayName\":\"Decision\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/c06cd820-a031-433b-9094-220dda64b4e4\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/cond\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-decision\",\"background\":\"#52b200\",\"index\":210,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"12254cf5-5db7-4b1a-8cb1-3af081924b28\",\"id\":8},\"group\":\"\/api\/3\/workflow_groups\/46b2eef9-1f05-4ac5-b7ab-b88729b74ad7\",\"uuid\":\"aade7fa0-1a34-4747-a56b-155403b54091\",\"_oldUuid\":\"aade7fa0-1a34-4747-a56b-155403b54091\",\"htmlEncodedName\":\"Check For Error In Output\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/ee00efb2-c35f-48c1-ba0c-952e0c26f1e9\",\"@type\":\"WorkflowStep\",\"name\":\"Create a Task to change the confguration and rerun this playbook\",\"description\":null,\"arguments\":{\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"tenant\":\"\",\"thread\":false,\"content\":\"<p>As you have selected to Review your system Configuration then please Update this task and rerun this playbook<\/p>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\"},\"resource\":{\"name\":\"Change the configuration of VM\",\"type\":\"\/api\/3\/picklists\/30300411-a2e0-42dc-9180-513904f73ab9\",\"status\":\"\/api\/3\/picklists\/7669725a-28cc-4b19-98a3-9ca71e0f88f4\",\"priority\":\"\/api\/3\/picklists\/90088ebe-0a7d-4aa6-9c9c-93b937a4e4f8\",\"description\":\"#### Below is the Last Checked Configuration \\n\\n1. CPU - {{vars.system_config.CPU}}\\n2. RAM - {{vars.system_config.RAM}}\\n3. Disk IOPS - Read - {{vars.system_config[\\\"Disk IOPS - Read\\\"]}}\\n4. Disk IOPS - Wrtie - {{vars.system_config[\\\"Disk IOPS - Write\\\"]}}\\n5. Disk latency - {{vars.system_config[\\\"Disk latency\\\"]}}\",\"assignedToPerson\":\"{{globalVars.Current_User}}\"},\"collection\":\"tasks\",\"step_variables\":{}},\"status\":null,\"top\":\"280\",\"left\":\"1420\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/dc6ac63d-c5a5-472f-9eb4-6b18473a98b8\",\"@type\":\"WorkflowStepType\",\"name\":\"ManualTask\",\"displayName\":\"Manual Task\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/c06cd820-a031-433b-9094-220dda64b4e4\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/wait\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-manual-task\",\"background\":\"#52b200\",\"index\":240,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"dc6ac63d-c5a5-472f-9eb4-6b18473a98b8\",\"id\":12},\"group\":null,\"uuid\":\"ee00efb2-c35f-48c1-ba0c-952e0c26f1e9\",\"_oldUuid\":\"ee00efb2-c35f-48c1-ba0c-952e0c26f1e9\",\"htmlEncodedName\":\"Create a Task to change the confguration and rerun this playbook\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/818a4e86-1dd7-4ae0-be4c-7b593ca5fc27\",\"@type\":\"WorkflowStep\",\"name\":\"Create Report File\",\"description\":null,\"arguments\":{\"params\":{\"contents\":\"{{vars.HTML}}\",\"filename\":\"Recommended_System_Configuration_{{arrow.utcnow().int_timestamp}}.html\",\"mimetype\":\"\"},\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"tenant\":\"\",\"thread\":false,\"content\":\"<p>Report File Creation in Progress<\/p>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\"},\"version\":\"3.2.5\",\"connector\":\"cyops_utilities\",\"operation\":\"create_file_from_string\",\"operationTitle\":\"File: Create File from String\",\"step_variables\":{}},\"status\":null,\"top\":\"60\",\"left\":\"380\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562\",\"@type\":\"WorkflowStepType\",\"name\":\"CyopsUtilites\",\"displayName\":\"Utilities\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/connector\",\"arguments\":{\"connector\":\"cyops_utilities\"}},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-utilities\",\"background\":\"#ff7600\",\"index\":321,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"0109f35d-090b-4a2b-bd8a-94cbc3508562\",\"id\":16},\"group\":\"\/api\/3\/workflow_groups\/c19cea31-9ef6-4da9-8753-6c1b7b4a398c\",\"uuid\":\"818a4e86-1dd7-4ae0-be4c-7b593ca5fc27\",\"_oldUuid\":\"818a4e86-1dd7-4ae0-be4c-7b593ca5fc27\",\"htmlEncodedName\":\"Create Report File\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/f0bab856-75ca-479a-9333-8a2512e0f9b6\",\"@type\":\"WorkflowStep\",\"name\":\"Create Task For Installing SSH connector and adding configuration\",\"description\":null,\"arguments\":{\"resource\":{\"name\":\"System Configuration Recommendation\",\"type\":\"\/api\/3\/picklists\/30300411-a2e0-42dc-9180-513904f73ab9\",\"status\":\"\/api\/3\/picklists\/7669725a-28cc-4b19-98a3-9ca71e0f88f4\",\"priority\":\"\/api\/3\/picklists\/90088ebe-0a7d-4aa6-9c9c-93b937a4e4f8\",\"recordTags\":[\"\/api\/3\/tags\/System Config Recommendation\"],\"description\":\"This Task is Create for Tracking and For Confirming installation and configuring SSH connector \\n\\nAs soon as SSH connector is installed and configured then please mark this task as complete and view comment section for Update in this record only \",\"assignedToPerson\":\"\/api\/3\/people\/3451141c-bac6-467c-8d72-85e0fab569ce\"},\"collection\":\"tasks\",\"step_variables\":{}},\"status\":null,\"top\":\"120\",\"left\":\"360\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/dc6ac63d-c5a5-472f-9eb4-6b18473a98b8\",\"@type\":\"WorkflowStepType\",\"name\":\"ManualTask\",\"displayName\":\"Manual Task\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/c06cd820-a031-433b-9094-220dda64b4e4\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/wait\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-manual-task\",\"background\":\"#52b200\",\"index\":240,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"dc6ac63d-c5a5-472f-9eb4-6b18473a98b8\",\"id\":12},\"group\":null,\"uuid\":\"f0bab856-75ca-479a-9333-8a2512e0f9b6\",\"_oldUuid\":\"f0bab856-75ca-479a-9333-8a2512e0f9b6\",\"htmlEncodedName\":\"Create Task For Installing SSH connector and adding configuration\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/f840a802-9590-4c6e-be86-dd137274dd44\",\"@type\":\"WorkflowStep\",\"name\":\"Generate Report Code\",\"description\":null,\"arguments\":{\"HTML\":\"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n\\n<head>\\n    <title>FortiSOAR<\/title>\\n    <style>\\n        table.GeneratedTable {\\n            width: 100%;\\n            background-color: #797777;\\n            border-collapse: collapse;\\n            border-width: 2px;\\n            border-color: #080808;\\n            border-style: solid;\\n            color: #f3f2f2;\\n        }\\n\\n        table.GeneratedTable td,\\n        table.GeneratedTable th {\\n            border-width: 2px;\\n            border-color: #080808;\\n            border-style: solid;\\n            padding: 3px;\\n        }\\n\\n        table.GeneratedTable thead {\\n            background-color: #5074e2;\\n        }\\n        .spacing-div{\\n            height: 2vw;\\n        }\\n    <\/style>\\n<\/head>\\n\\n<body>\\n    <h1>\\n        <center>FortiSOAR - Recommended System Configuration.<\/center>\\n    <\/h1>\\n    <div class=\\\"spacing-div\\\"><\/div>\\n    <!-- <p> We performed a scan of system for resources like CPU , RAM , Disk\\n        Here are details about it\\n    <p> -->\\n    <h2> Here are your System Details<\/h2>\\n    <table class=\\\"GeneratedTable\\\">\\n        <thead>\\n            <tr>\\n                <th>S No<\/th>\\n                <th>System Entity<\/th>\\n                <th>Value<\/th>\\n            <\/tr>\\n        <\/thead>\\n        <tbody>\\n            <tr>\\n                <td>1<\/td>\\n                <td>CPU<\/td>\\n                <td>{{vars.system_config.CPU}}\\n                <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>2<\/td>\\n                <td>RAM\\n                <\/td>\\n                <td>{{vars.system_config.RAM}} GB\\n                <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>3<\/td>\\n                <td>Disk Latency\\n                <\/td>\\n                <td>{{vars.system_config[\\\"Disk latency\\\"]}}\\n                <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>3<\/td>\\n                <td>Disk IOPS - Read\\n                <\/td>\\n                <td>{{vars.system_config[\\\"Disk IOPS - Read\\\"]}}\\n                <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>4<\/td>\\n                <td>Disk IOPS - Write\\n                <\/td>\\n                <td>{{vars.system_config[\\\"Disk IOPS - Write\\\"]}}\\n                <\/td>\\n            <\/tr>\\n        <\/tbody>\\n    <\/table>\\n\\n    <div class=\\\"spacing-div\\\"><\/div>\\n    <h2>We recommend following system configuration based on system information gathered <\/h2>\\n    <table class=\\\"GeneratedTable\\\">\\n        <thead>\\n            <tr>\\n                <th>S No<\/th>\\n                <th>Configuration File<\/th>\\n                <th>Recommendation<\/th>\\n            <\/tr>\\n        <\/thead>\\n        <tbody>\\n            <tr>\\n                <td>1<\/td>\\n                <td>File -\/etc\/celery\/celeryd.conf<\/td>\\n                <td>Update key CELERYD_OPTS to use value = \\\"--concurrency={{vars.system_config.CPU}}\\\"\\n                <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>2<\/td>\\n                <td>File - \/etc\/uwsgi.d\/sealab_wsgi.ini\\n                <\/td>\\n                <td>Update value of processes to {{vars.system_config.CPU}} , e.g processes = {{vars.system_config.CPU}}\\n                <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>3<\/td>\\n                <td>File - \/etc\/nginx\/nginx.conf\\n                <\/td>\\n                <td>Set value of worker processes as auto - e.g worker_processes auto\\n                <\/td>\\n            <\/tr>\\n        <\/tbody>\\n    <\/table>\\n    <div class=\\\"spacing-div\\\"><\/div>\\n    <h2>Also here are few recommendation for PostgreSQL<\/h2>\\n    <table class=\\\"GeneratedTable\\\">\\n        <thead>\\n            <tr>\\n                <th>Sr No<\/th>\\n                <th>Property<\/th>\\n                <th>Recommended Value<\/th>\\n                <th>Unit<\/th>\\n            <\/tr>\\n        <\/thead>\\n        <tbody>\\n            <tr>\\n                <td>1<\/td>\\n                <td>work_mem{% set variable = (vars.workMem | int) %}<\/td>\\n                <td>{{((variable\/1024) if variable > 4096 else (variable))| round | int}}<\/td>\\n                <td>{{'GB' if variable > 4096 else 'MB' }}<\/td>\\n            <\/tr>\\n            <tr>\\n                <td>2<\/td>\\n                <td>wal_buffers{% set variable = (vars.walBuffers | int) %}<\/td>\\n                <td>{{((variable\/1024) if variable > 4096 else (variable))| round | int}}<\/td>\\n                <td>{{'GB' if variable > 4096 else 'MB' }}<\/td>\\n            <\/tr>\\n            <tr>\\n                <td>3<\/td>\\n                <td>effective_cache_size{% set variable = (vars.effectiveCacheSize | int) %}<\/td>\\n                <td>{{((variable\/1024) if variable > 4096 else (variable))| round | int}}<\/td>\\n                <td>{{'GB' if variable > 4096 else 'MB' }}<\/td>\\n            <\/tr>\\n            <tr>\\n                <td>4<\/td>\\n                <td>maintenance_work_mem{% set variable = (vars.maintenanceWorkMem | int) %}<\/td>\\n                <td>{{((variable\/1024) if variable > 4096 else (variable))| round | int}}<\/td>\\n                <td>{{'GB' if variable > 4096 else 'MB' }}<\/td>\\n            <\/tr>\\n            <tr>\\n                <td>5<\/td>\\n                <td>random_page_cost<span style=\\\"color: red;\\\">*<\/span><\/td>\\n                <td>{{vars.randomPageCost_SSD}}<\/td>\\n                <td> Not Any <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>6<\/td>\\n                <td>max_parallel_workers<\/td>\\n                <td>{{vars.max_parallel_workers}}<\/td>\\n                <td> Not Any <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>7<\/td>\\n                <td>max_worker_processes<\/td>\\n                <td>{{vars.max_worker_processes}}<\/td>\\n                <td> Not Any <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>8<\/td>\\n                <td>checkpoint_completion_target<\/td>\\n                <td>{{vars.checkpointCompletionTarget}}<\/td>\\n                <td> Not Any <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>9<\/td>\\n                <td>effective_io_concurrency<span style=\\\"color: red;\\\">*<\/span><\/td>\\n                <td>{{vars.effectiveIoConcurrency_SSD}}<\/td>\\n                <td> Not Any <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>10<\/td>\\n                <td>max_parallel_workers_per_gather<\/td>\\n                <td>{{vars.max_parallel_workers_per_gather}}<\/td>\\n                <td> Not Any <\/td>\\n            <\/tr>\\n        <\/tbody>\\n    <\/table>\\n    <p> <span style=\\\"color: red;\\\">*<\/span> <span style=\\\"font-style: italic;font-weight: bold;text-decoration: underline;\\\"> Note : These field is applicable only when your system's storage is Solid State Drive<\/span> <\/p>\\n    <div>\\n        <h2>Here is the way to use this configuration and apply in you VM <\/h2>\\n        <p>\\n            Configuration File Location : \/var\/lib\/pgsql\/14\/data\/postgresql.conf\\n        <\/p>\\n\\n\\n    <\/div>\\n<\/body>\\n\\n<\/html>\",\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"thread\":false,\"content\":\"<p>Inserting Values in Report<\/p>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\"}},\"status\":null,\"top\":\"60\",\"left\":\"60\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f\",\"@type\":\"WorkflowStepType\",\"name\":\"SetVariable\",\"displayName\":\"Set Variable\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/c04ab14a-669e-4502-92a3-3beef3cf6219\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/set_multiple\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-set-variables\",\"background\":\"#f7ac20\",\"index\":140,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"04d0cf46-b6a8-42c4-8683-60a7eaa69e8f\",\"id\":6},\"group\":\"\/api\/3\/workflow_groups\/c19cea31-9ef6-4da9-8753-6c1b7b4a398c\",\"uuid\":\"f840a802-9590-4c6e-be86-dd137274dd44\",\"_oldUuid\":\"f840a802-9590-4c6e-be86-dd137274dd44\",\"htmlEncodedName\":\"Generate Report Code\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/d08c763f-ea43-438e-bc06-ccaf4f860e06\",\"@type\":\"WorkflowStep\",\"name\":\"Get Input Confirmation\",\"description\":null,\"arguments\":{\"type\":\"InputBased\",\"input\":{\"schema\":{\"title\":\"Confirm System Configuration\",\"description\":\"We have capture system configuration. Please confirm to proceed.\\nYou can reduce  CPU & RAM number so that suggestion will not use all of CPU \/ RAM  or proceed to use complete CPU \/ RAM for system tune up.\\n\\n1. CPU - {{vars.system_config.CPU}}\\n2. RAM - {{vars.system_config.RAM}}\\n3. Disk IOPS - Read - {{vars.system_config[\\\"Disk IOPS - Read\\\"]}}\\n4. Disk IOPS - Wrtie - {{vars.system_config[\\\"Disk IOPS - Write\\\"]}}\\n5. Disk latency - {{vars.system_config[\\\"Disk latency\\\"]}}\",\"inputVariables\":[]}},\"record\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"tenant\":\"\",\"thread\":false,\"content\":\"<p>&nbsp;No Error Found Please check for yourself In Pending Task, Please Select Ok if everything is fine<\/p>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\"},\"agent_id\":null,\"resources\":\"tasks\",\"is_approval\":false,\"owner_detail\":{\"isAssigned\":false,\"emailRecipients\":\"\"},\"isRecordLinked\":true,\"step_variables\":{\"sharedBuffersValue\":\"{{(((vars.system_config.RAM | int )\/ 4 ) * 1024 ) | round}}\"},\"response_mapping\":{\"options\":[{\"option\":\"Ok\",\"primary\":true,\"step_iri\":\"\/api\/3\/workflow_steps\/30c2508e-314c-4685-8d6c-874d9cb9a906\"},{\"option\":\"Review Required\",\"step_iri\":\"\/api\/3\/workflow_steps\/ee00efb2-c35f-48c1-ba0c-952e0c26f1e9\"}],\"duplicateOption\":false,\"customSuccessMessage\":\"Awaiting Playbook resumed successfully.\"},\"email_notification\":{\"enabled\":false,\"smtpParameters\":{}},\"customEmailExternal\":false,\"inline_channel_list\":[],\"external_channel_list\":[],\"unauthenticated_input\":false,\"external_email_subject\":null,\"internal_email_subject\":\"A FortiSOAR playbook is requesting your input\",\"custom_email_body_external\":null,\"external_email_attachments\":null},\"status\":null,\"top\":\"280\",\"left\":\"1000\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/fc04082a-d7dc-4299-96fb-6837b1baa0fe\",\"@type\":\"WorkflowStepType\",\"name\":\"ManualInput\",\"displayName\":\"Manual Input\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/c06cd820-a031-433b-9094-220dda64b4e4\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/manual_input\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-manual-input\",\"background\":\"#52b200\",\"index\":260,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"fc04082a-d7dc-4299-96fb-6837b1baa0fe\",\"id\":14},\"group\":null,\"uuid\":\"d08c763f-ea43-438e-bc06-ccaf4f860e06\",\"_oldUuid\":\"d08c763f-ea43-438e-bc06-ccaf4f860e06\",\"htmlEncodedName\":\"Get Input Confirmation\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\",\"@type\":\"WorkflowStep\",\"name\":\"Get System Configuration\",\"description\":null,\"arguments\":{\"name\":\"SSH\",\"config\":\"40b3e74c-b43e-4051-bd02-f6430f98ab15\",\"params\":{\"cmd\":\"\/bin\/python3 \/home\/csadmin\/get_system_config.py\",\"allowed_exit\":\"-1,0\",\"is_super_user\":false},\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"tenant\":\"\",\"thread\":false,\"content\":\"<p>Playbook is Getting the Data Related to your system like&nbsp;<\/p>\\n<ol>\\n<li>CPU<\/li>\\n<li>RAM<\/li>\\n<li>IOPS<\/li>\\n<li>Disk Latency&nbsp;<\/li>\\n<\/ol>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/6f21ed23-bfc4-432b-b3c2-ff727ec34de6\"},\"version\":\"2.1.2\",\"connector\":\"ssh\",\"operation\":\"run_remote_command\",\"operationTitle\":\"Execute remote command\",\"pickFromTenant\":false,\"step_variables\":{\"system_config\":\"{{vars.steps.Get_System_Configuration.data | toDict}}\"}},\"status\":null,\"top\":\"80\",\"left\":\"40\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/0bfed618-0316-11e7-93ae-92361f002671\",\"@type\":\"WorkflowStepType\",\"name\":\"Connectors\",\"displayName\":\"SSH 2.1.2\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/connector\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-connectors\",\"background\":\"#ff7600\",\"index\":320,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"0bfed618-0316-11e7-93ae-92361f002671\",\"id\":15},\"group\":\"\/api\/3\/workflow_groups\/eb0451e1-793f-49d1-b6a4-d42b836a58b8\",\"uuid\":\"172235a2-b8ec-49f8-bd41-9a85dc089713\",\"_oldUuid\":\"172235a2-b8ec-49f8-bd41-9a85dc089713\",\"htmlEncodedName\":\"Get System Configuration\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/30c2508e-314c-4685-8d6c-874d9cb9a906\",\"@type\":\"WorkflowStep\",\"name\":\"Postgresql Configuration\",\"description\":null,\"arguments\":{\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"thread\":false,\"content\":\"<p>Creating Configuration for PostgreSQL&nbsp;<\/p>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\"},\"workMem\":\"{{(vars.system_config.RAM | int \/4 ) | round}}\",\"walBuffers\":\"{{((3 * vars.sharedBuffersValue | int ) \/ 100) | round }}\",\"workersPerGather\":\"4\",\"effectiveCacheSize\":\"{{((vars.system_config.RAM| int )* 3  * 1024 \/ 4 ) | round}}\",\"maintenanceWorkMem\":\"{{ ((vars.system_config.RAM| int )* 1024 \/ 16) | round }}\",\"randomPageCost_HDD\":\"4\",\"randomPageCost_SSD\":\"1.1\",\"max_parallel_workers\":\"{{vars.system_config.CPU}}\",\"max_worker_processes\":\"{{vars.system_config.CPU}}\",\"checkpointCompletionTarget\":\"0.9\",\"effectiveIoConcurrency_HDD\":\"2\",\"effectiveIoConcurrency_SSD\":\"200\",\"parallelMaintenanceWorkers\":\"4\",\"max_parallel_workers_per_gather\":\"{{(vars.system_config.CPU  | int \/ 2) | int}}\"},\"status\":null,\"top\":\"400\",\"left\":\"1000\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f\",\"@type\":\"WorkflowStepType\",\"name\":\"SetVariable\",\"displayName\":\"Set Variable\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/c04ab14a-669e-4502-92a3-3beef3cf6219\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/set_multiple\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-set-variables\",\"background\":\"#f7ac20\",\"index\":140,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"04d0cf46-b6a8-42c4-8683-60a7eaa69e8f\",\"id\":6},\"group\":null,\"uuid\":\"30c2508e-314c-4685-8d6c-874d9cb9a906\",\"_oldUuid\":\"30c2508e-314c-4685-8d6c-874d9cb9a906\",\"htmlEncodedName\":\"Postgresql Configuration\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/093cce4f-241a-455b-9fb3-d29b49822200\",\"@type\":\"WorkflowStep\",\"name\":\"Report as Attachment\",\"description\":null,\"arguments\":{\"params\":{\"name\":\"{{vars.steps.Create_Report_File.data.filename}}\",\"filename\":\"{{vars.steps.Create_Report_File.data.filename}}\",\"description\":\"\",\"request_headers\":\"\",\"multipart_headers\":\"\",\"extra_multipart_fields\":\"\"},\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"tenant\":\"\",\"thread\":false,\"content\":\"<p>File Created Please Navigate to Attachments and View the report Created{% set uuid=vars.steps.Report_as_Attachment.data[\\\"@id\\\"]| regex_search(\\\"[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}\\\") %} <a href=\\\"\/modules\/view-panel\/attachments\/{{uuid}}\\\">{{vars.steps.Create_Report_File.data.filename}}<\/a><\/p>\\n<p>&nbsp;<\/p>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\"},\"version\":\"3.2.5\",\"connector\":\"cyops_utilities\",\"operation\":\"create_cyops_attachment\",\"operationTitle\":\"File: Create Attachment from File\",\"step_variables\":{}},\"status\":null,\"top\":\"60\",\"left\":\"700\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562\",\"@type\":\"WorkflowStepType\",\"name\":\"CyopsUtilites\",\"displayName\":\"Utilities\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/connector\",\"arguments\":{\"connector\":\"cyops_utilities\"}},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-utilities\",\"background\":\"#ff7600\",\"index\":321,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"0109f35d-090b-4a2b-bd8a-94cbc3508562\",\"id\":16},\"group\":\"\/api\/3\/workflow_groups\/c19cea31-9ef6-4da9-8753-6c1b7b4a398c\",\"uuid\":\"093cce4f-241a-455b-9fb3-d29b49822200\",\"_oldUuid\":\"093cce4f-241a-455b-9fb3-d29b49822200\",\"htmlEncodedName\":\"Report as Attachment\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/e028ac49-8dca-4e72-a1c1-fb8bdd76b997\",\"@type\":\"WorkflowStep\",\"name\":\"Start\",\"description\":null,\"arguments\":{\"__triggerLimit\":true,\"step_variables\":{\"input\":{\"params\":[]}},\"triggerOnSource\":true,\"triggerOnReplicate\":false},\"status\":null,\"top\":\"120\",\"left\":\"60\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/b348f017-9a94-471f-87f8-ce88b6a7ad62\",\"@type\":\"WorkflowStepType\",\"name\":\"cybersponse.abstract_trigger\",\"displayName\":\"Referenced\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/51627f80-3dd5-4260-b86d-cc53a7cece15\",\"arguments\":[],\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f\",\"@type\":\"WorkflowStepType\",\"name\":\"SetVariable\",\"displayName\":\"Set Variable\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/c04ab14a-669e-4502-92a3-3beef3cf6219\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/set_multiple\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-set-variables\",\"background\":\"#f7ac20\",\"index\":140,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"04d0cf46-b6a8-42c4-8683-60a7eaa69e8f\",\"id\":6},\"icon\":\"icon icon-referenced\",\"background\":null,\"index\":140,\"visible\":true,\"deprecated\":false,\"description\":\"Triggered from another playbook using a \\\"Reference Playbook\\\" step or from a schedule.\",\"uuid\":\"b348f017-9a94-471f-87f8-ce88b6a7ad62\",\"id\":30},\"group\":null,\"uuid\":\"e028ac49-8dca-4e72-a1c1-fb8bdd76b997\",\"_oldUuid\":\"e028ac49-8dca-4e72-a1c1-fb8bdd76b997\",\"class\":\"trigger-step\",\"htmlEncodedName\":\"Start\",\"htmlEncodedDescription\":\"null\"}],\"groups\":[{\"@id\":\"\/api\/3\/workflow_groups\/46b2eef9-1f05-4ac5-b7ab-b88729b74ad7\",\"@type\":\"WorkflowGroup\",\"name\":\"Checking For Error and Create task to resolve error\",\"description\":\"There are two types of error that can occur, first due to PGSQL directory is not mounted and second one because of some command is not installed\",\"type\":\"block\",\"isCollapsed\":false,\"hasTriggerStep\":false,\"hideInLogs\":false,\"metadata\":[],\"reusable\":false,\"top\":\"40\",\"left\":\"980\",\"height\":\"174\",\"width\":\"679\",\"uuid\":\"46b2eef9-1f05-4ac5-b7ab-b88729b74ad7\",\"recordTags\":[],\"htmlEncodedName\":\"Checking For Error and Create task to resolve error\",\"htmlEncodedDescription\":\"There are two types of error that can occur, first due to PGSQL directory is not mounted and second one because of some command is not installed\",\"editMode\":true,\"htmlExectime\":\"\"},{\"@id\":\"\/api\/3\/workflow_groups\/c19cea31-9ef6-4da9-8753-6c1b7b4a398c\",\"@type\":\"WorkflowGroup\",\"name\":\"Generate System Config Recomendation\",\"description\":\"\",\"type\":\"block\",\"isCollapsed\":false,\"hasTriggerStep\":false,\"hideInLogs\":false,\"metadata\":[],\"reusable\":false,\"top\":\"480\",\"left\":\"940\",\"height\":\"166\",\"width\":\"1042\",\"uuid\":\"c19cea31-9ef6-4da9-8753-6c1b7b4a398c\",\"recordTags\":[],\"htmlEncodedName\":\"Generate System Config Recomendation\",\"htmlEncodedDescription\":\"\",\"editMode\":true,\"htmlExectime\":\"\"},{\"@id\":\"\/api\/3\/workflow_groups\/eb0451e1-793f-49d1-b6a4-d42b836a58b8\",\"@type\":\"WorkflowGroup\",\"name\":\"Get System Details\",\"description\":\"This step uses python script to return you the system configuration\",\"type\":\"block\",\"isCollapsed\":false,\"hasTriggerStep\":false,\"hideInLogs\":false,\"metadata\":[],\"reusable\":false,\"top\":\"40\",\"left\":\"640\",\"height\":\"171\",\"width\":\"319\",\"uuid\":\"eb0451e1-793f-49d1-b6a4-d42b836a58b8\",\"recordTags\":[],\"htmlEncodedName\":\"Get System Details\",\"htmlEncodedDescription\":\"This step uses python script to return you the system configuration\",\"editMode\":true,\"htmlExectime\":\"\"}],\"routes\":[{\"@id\":\"\/api\/3\/workflow_routes\/e99e11ff-6cd5-4dcf-9df0-e15e53b35838\",\"@type\":\"WorkflowRoute\",\"name\":\"Check if Data is Present -> Based on error Create a task for Current User\",\"targetStep\":\"\/api\/3\/workflow_steps\/8fd73054-6787-455f-a9b4-4b1f548750ea\",\"sourceStep\":\"\/api\/3\/workflow_steps\/aade7fa0-1a34-4747-a56b-155403b54091\",\"label\":\"is present\",\"isExecuted\":false,\"group\":null,\"uuid\":\"e99e11ff-6cd5-4dcf-9df0-e15e53b35838\"},{\"@id\":\"\/api\/3\/workflow_routes\/dcacdb08-5203-4999-8e09-d25600c9bf4f\",\"@type\":\"WorkflowRoute\",\"name\":\"Check if Data is Present -> Get Input Confirmation\",\"targetStep\":\"\/api\/3\/workflow_steps\/d08c763f-ea43-438e-bc06-ccaf4f860e06\",\"sourceStep\":\"\/api\/3\/workflow_steps\/aade7fa0-1a34-4747-a56b-155403b54091\",\"label\":\"is not present\",\"isExecuted\":false,\"group\":null,\"uuid\":\"dcacdb08-5203-4999-8e09-d25600c9bf4f\"},{\"@id\":\"\/api\/3\/workflow_routes\/10350091-30d2-4dc6-8065-0ed7b5b46f4a\",\"@type\":\"WorkflowRoute\",\"name\":\"Create Report File -> Report as Attachment\",\"targetStep\":\"\/api\/3\/workflow_steps\/093cce4f-241a-455b-9fb3-d29b49822200\",\"sourceStep\":\"\/api\/3\/workflow_steps\/818a4e86-1dd7-4ae0-be4c-7b593ca5fc27\",\"label\":null,\"isExecuted\":false,\"group\":null,\"uuid\":\"10350091-30d2-4dc6-8065-0ed7b5b46f4a\"},{\"@id\":\"\/api\/3\/workflow_routes\/a04a73d8-ad62-474c-b5c2-0ccfebb803f5\",\"@type\":\"WorkflowRoute\",\"name\":\"Create Task For Installing SSH connector and adding configuration -> Get System Configuration\",\"targetStep\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\",\"sourceStep\":\"\/api\/3\/workflow_steps\/f0bab856-75ca-479a-9333-8a2512e0f9b6\",\"label\":null,\"isExecuted\":false,\"group\":null,\"uuid\":\"a04a73d8-ad62-474c-b5c2-0ccfebb803f5\"},{\"@id\":\"\/api\/3\/workflow_routes\/048ee09f-53cf-4a7c-8640-1bc0dd155553\",\"@type\":\"WorkflowRoute\",\"name\":\"Generate Report Code -> Create Report File\",\"targetStep\":\"\/api\/3\/workflow_steps\/818a4e86-1dd7-4ae0-be4c-7b593ca5fc27\",\"sourceStep\":\"\/api\/3\/workflow_steps\/f840a802-9590-4c6e-be86-dd137274dd44\",\"label\":null,\"isExecuted\":false,\"group\":null,\"uuid\":\"048ee09f-53cf-4a7c-8640-1bc0dd155553\"},{\"@id\":\"\/api\/3\/workflow_routes\/34000689-7158-47e3-ace3-a9dcf2cff8c6\",\"@type\":\"WorkflowRoute\",\"name\":\"Get Input Confirmation -> Create a Task to change the confguration and rerun this playbook\",\"targetStep\":\"\/api\/3\/workflow_steps\/ee00efb2-c35f-48c1-ba0c-952e0c26f1e9\",\"sourceStep\":\"\/api\/3\/workflow_steps\/d08c763f-ea43-438e-bc06-ccaf4f860e06\",\"label\":\"Review Required\",\"isExecuted\":false,\"group\":null,\"uuid\":\"34000689-7158-47e3-ace3-a9dcf2cff8c6\"},{\"@id\":\"\/api\/3\/workflow_routes\/d1fc5c73-b8bb-4969-8a3c-ed7fa5d08344\",\"@type\":\"WorkflowRoute\",\"name\":\"Get Input Confirmation -> Postgresql Configuration\",\"targetStep\":\"\/api\/3\/workflow_steps\/30c2508e-314c-4685-8d6c-874d9cb9a906\",\"sourceStep\":\"\/api\/3\/workflow_steps\/d08c763f-ea43-438e-bc06-ccaf4f860e06\",\"label\":\"Ok\",\"isExecuted\":false,\"group\":null,\"uuid\":\"d1fc5c73-b8bb-4969-8a3c-ed7fa5d08344\"},{\"@id\":\"\/api\/3\/workflow_routes\/8d131efc-2f35-452f-9860-90ffd3fce1ba\",\"@type\":\"WorkflowRoute\",\"name\":\"Get System Configuration -> Check if Data is Present\",\"targetStep\":\"\/api\/3\/workflow_steps\/aade7fa0-1a34-4747-a56b-155403b54091\",\"sourceStep\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\",\"label\":null,\"isExecuted\":false,\"group\":null,\"uuid\":\"8d131efc-2f35-452f-9860-90ffd3fce1ba\"},{\"@id\":\"\/api\/3\/workflow_routes\/cea92ca2-710f-42a1-9e3d-8ecc6dd34cda\",\"@type\":\"WorkflowRoute\",\"name\":\"Postgresql Configuration -> Generate Report Code\",\"targetStep\":\"\/api\/3\/workflow_steps\/f840a802-9590-4c6e-be86-dd137274dd44\",\"sourceStep\":\"\/api\/3\/workflow_steps\/30c2508e-314c-4685-8d6c-874d9cb9a906\",\"label\":null,\"isExecuted\":false,\"group\":null,\"uuid\":\"cea92ca2-710f-42a1-9e3d-8ecc6dd34cda\"},{\"@id\":\"\/api\/3\/workflow_routes\/646000f8-0787-4b12-8827-7f2e6c58390a\",\"@type\":\"WorkflowRoute\",\"name\":\"Start -> Create Task For Installing SSH connector and adding configuration\",\"targetStep\":\"\/api\/3\/workflow_steps\/f0bab856-75ca-479a-9333-8a2512e0f9b6\",\"sourceStep\":\"\/api\/3\/workflow_steps\/e028ac49-8dca-4e72-a1c1-fb8bdd76b997\",\"label\":null,\"isExecuted\":false,\"group\":null,\"uuid\":\"646000f8-0787-4b12-8827-7f2e6c58390a\"}],\"lastModifyDate\":1700478510,\"priority\":{\"@id\":\"\/api\/3\/picklists\/2b563c61-ae2c-41c0-a85a-c9709585e3f2\",\"@type\":\"Picklist\",\"itemValue\":\"Medium\",\"orderIndex\":1,\"color\":null,\"icon\":null,\"listName\":\"\/api\/3\/picklist_names\/e104ef72-11b4-4d0c-be0e-e1cf3b87b5f2\",\"uuid\":\"2b563c61-ae2c-41c0-a85a-c9709585e3f2\",\"id\":111,\"importedBy\":[],\"display\":\"Medium\"},\"id\":742,\"createUser\":{\"@id\":\"\/api\/3\/people\/3451141c-bac6-467c-8d72-85e0fab569ce\",\"@type\":\"Person\",\"firstname\":\"CS\",\"lastname\":\"Admin\",\"title\":\"Admin\",\"department\":null,\"email\":\"admin@example.com\",\"description\":null,\"phoneFax\":null,\"phoneHome\":null,\"phoneMobile\":null,\"phoneWork\":\"+16462759691\",\"csActive\":true,\"accessType\":\"Named\",\"companyId\":null,\"type\":null,\"userType\":null,\"avatar\":null,\"uuid\":\"3451141c-bac6-467c-8d72-85e0fab569ce\",\"createUser\":\"\/api\/3\/people\/3451141c-bac6-467c-8d72-85e0fab569ce\",\"createDate\":1698209756.389142,\"modifyUser\":\"\/api\/3\/people\/3451141c-bac6-467c-8d72-85e0fab569ce\",\"modifyDate\":1698209756.389142,\"id\":3,\"userId\":\"f9cfde3e-0c7c-4094-8e1c-bb2aba4b318a\",\"@settings\":\"\/api\/3\/user_settings\/3451141c-bac6-467c-8d72-85e0fab569ce\",\"display\":\"CS Admin\"},\"createDate\":1700464026327.052,\"recordTags\":[\"System Config Recommendation\"],\"isPrivate\":false,\"owners\":[],\"@id\":\"\/api\/3\/workflows\/abea60a3-004c-406a-be9f-16765f6f12ac\"}",
            "autosave": false,
            "workflow": "\/api\/3\/workflows\/abea60a3-004c-406a-be9f-16765f6f12ac",
            "uuid": "2c7dc042-0c9e-4ba7-80ec-97e361346d84"
        },
        {
            "@type": "WorkflowVersion",
            "note": "Version for Saving",
            "json": "{\"name\":\"System Config Recommendation\",\"isActive\":true,\"debug\":true,\"singleRecordExecution\":false,\"remoteExecutableFlag\":false,\"parameters\":[],\"synchronous\":false,\"triggerStep\":\"\/api\/3\/workflow_steps\/e028ac49-8dca-4e72-a1c1-fb8bdd76b997\",\"steps\":[{\"@id\":\"\/api\/3\/workflow_steps\/6691b809-52e3-4752-a1ef-3a8be61b502a\",\"@type\":\"WorkflowStep\",\"name\":\"Attach Attachment to Task\",\"description\":null,\"arguments\":{\"resource\":{\"__link\":{\"attachments\":\"{{vars.steps.Report_as_Attachment.data['@id']}}\"}},\"operation\":\"Append\",\"collection\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"__recommend\":[],\"collectionType\":\"\/api\/3\/tasks\",\"fieldOperation\":{\"recordTags\":\"Append\"},\"step_variables\":{}},\"status\":null,\"top\":\"540\",\"left\":\"1960\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/b593663d-7d13-40ce-a3a3-96dece928722\",\"@type\":\"WorkflowStepType\",\"name\":\"UpdateRecord\",\"displayName\":\"Update Record\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/c04ab14a-669e-4502-92a3-3beef3cf6219\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/update_data\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-update-record\",\"background\":\"#f7ac20\",\"index\":120,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"b593663d-7d13-40ce-a3a3-96dece928722\",\"id\":1},\"group\":null,\"uuid\":\"6691b809-52e3-4752-a1ef-3a8be61b502a\",\"_oldUuid\":\"6691b809-52e3-4752-a1ef-3a8be61b502a\",\"htmlEncodedName\":\"Attach Attachment to Task\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/8fd73054-6787-455f-a9b4-4b1f548750ea\",\"@type\":\"WorkflowStep\",\"name\":\"Based on Error Create a task for Current User\",\"description\":null,\"arguments\":{\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"tenant\":\"\",\"thread\":false,\"content\":\"<p>Error Found Please check Tasks for More Details&nbsp;&nbsp;<\/p>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\"},\"resource\":{\"name\":\"{{\\\"Make sure that all commands required are installed\\\" if not (vars.system_config[\\\"error\\\"]| regex_search(\\\"PGSQL\\\") and (vars.system_config[\\\"error\\\"]| regex_search(\\\"PGSQL\\\")).strip()) else \\\"Please mount a drive for PGSQL directory\\\"}}\",\"type\":\"\/api\/3\/picklists\/30300411-a2e0-42dc-9180-513904f73ab9\",\"status\":\"\/api\/3\/picklists\/7669725a-28cc-4b19-98a3-9ca71e0f88f4\",\"priority\":\"\/api\/3\/picklists\/90088ebe-0a7d-4aa6-9c9c-93b937a4e4f8\",\"description\":\"#### Please check the following error\\n{{vars.system_config[\\\"error\\\"]}}\",\"assignedToPerson\":\"\/api\/3\/people\/3451141c-bac6-467c-8d72-85e0fab569ce\"},\"collection\":\"tasks\",\"step_variables\":{}},\"status\":null,\"top\":\"80\",\"left\":\"380\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/dc6ac63d-c5a5-472f-9eb4-6b18473a98b8\",\"@type\":\"WorkflowStepType\",\"name\":\"ManualTask\",\"displayName\":\"Manual Task\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/c06cd820-a031-433b-9094-220dda64b4e4\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/wait\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-manual-task\",\"background\":\"#52b200\",\"index\":240,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"dc6ac63d-c5a5-472f-9eb4-6b18473a98b8\",\"id\":12},\"group\":\"\/api\/3\/workflow_groups\/46b2eef9-1f05-4ac5-b7ab-b88729b74ad7\",\"uuid\":\"8fd73054-6787-455f-a9b4-4b1f548750ea\",\"_oldUuid\":\"8fd73054-6787-455f-a9b4-4b1f548750ea\",\"htmlEncodedName\":\"Based on Error Create a task for Current User\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/aade7fa0-1a34-4747-a56b-155403b54091\",\"@type\":\"WorkflowStep\",\"name\":\"Check For Error In Output\",\"description\":null,\"arguments\":{\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"tenant\":\"\",\"thread\":false,\"content\":\"<p>Examining Output for errors<\/p>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\"},\"conditions\":[{\"option\":\"is not present\",\"step_iri\":\"\/api\/3\/workflow_steps\/d08c763f-ea43-438e-bc06-ccaf4f860e06\",\"condition\":\"{{ (vars.system_config[\\\"error\\\"] is undefined) or (vars.system_config[\\\"error\\\"] == None) }}\",\"step_name\":\"Get Input Confirmation\"},{\"option\":\"is present\",\"default\":true,\"step_iri\":\"\/api\/3\/workflow_steps\/8fd73054-6787-455f-a9b4-4b1f548750ea\",\"step_name\":\"Based on Error Create a task for Current User\"}],\"step_variables\":{}},\"status\":null,\"top\":\"80\",\"left\":\"20\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/12254cf5-5db7-4b1a-8cb1-3af081924b28\",\"@type\":\"WorkflowStepType\",\"name\":\"Decision\",\"displayName\":\"Decision\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/c06cd820-a031-433b-9094-220dda64b4e4\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/cond\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-decision\",\"background\":\"#52b200\",\"index\":210,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"12254cf5-5db7-4b1a-8cb1-3af081924b28\",\"id\":8},\"group\":\"\/api\/3\/workflow_groups\/46b2eef9-1f05-4ac5-b7ab-b88729b74ad7\",\"uuid\":\"aade7fa0-1a34-4747-a56b-155403b54091\",\"_oldUuid\":\"aade7fa0-1a34-4747-a56b-155403b54091\",\"htmlEncodedName\":\"Check For Error In Output\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/ee00efb2-c35f-48c1-ba0c-952e0c26f1e9\",\"@type\":\"WorkflowStep\",\"name\":\"Create a Task to change the confguration and rerun this playbook\",\"description\":null,\"arguments\":{\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"tenant\":\"\",\"thread\":false,\"content\":\"<p>As you have selected to Review your system Configuration then please Update this task and rerun this playbook<\/p>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\"},\"resource\":{\"name\":\"Change the configuration of VM\",\"type\":\"\/api\/3\/picklists\/30300411-a2e0-42dc-9180-513904f73ab9\",\"status\":\"\/api\/3\/picklists\/7669725a-28cc-4b19-98a3-9ca71e0f88f4\",\"priority\":\"\/api\/3\/picklists\/90088ebe-0a7d-4aa6-9c9c-93b937a4e4f8\",\"description\":\"#### Below is the Last Checked Configuration \\n\\n1. CPU - {{vars.system_config.CPU}}\\n2. RAM - {{vars.system_config.RAM}}\\n3. Disk IOPS - Read - {{vars.system_config[\\\"Disk IOPS - Read\\\"]}}\\n4. Disk IOPS - Wrtie - {{vars.system_config[\\\"Disk IOPS - Write\\\"]}}\\n5. Disk latency - {{vars.system_config[\\\"Disk latency\\\"]}}\",\"assignedToPerson\":\"{{globalVars.Current_User}}\"},\"collection\":\"tasks\",\"step_variables\":{}},\"status\":null,\"top\":\"60\",\"left\":\"420\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/dc6ac63d-c5a5-472f-9eb4-6b18473a98b8\",\"@type\":\"WorkflowStepType\",\"name\":\"ManualTask\",\"displayName\":\"Manual Task\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/c06cd820-a031-433b-9094-220dda64b4e4\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/wait\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-manual-task\",\"background\":\"#52b200\",\"index\":240,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"dc6ac63d-c5a5-472f-9eb4-6b18473a98b8\",\"id\":12},\"group\":\"\/api\/3\/workflow_groups\/b82ea15b-40e4-441b-83d7-f5a2e15d1849\",\"uuid\":\"ee00efb2-c35f-48c1-ba0c-952e0c26f1e9\",\"_oldUuid\":\"ee00efb2-c35f-48c1-ba0c-952e0c26f1e9\",\"htmlEncodedName\":\"Create a Task to change the confguration and rerun this playbook\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/818a4e86-1dd7-4ae0-be4c-7b593ca5fc27\",\"@type\":\"WorkflowStep\",\"name\":\"Create Report File\",\"description\":null,\"arguments\":{\"params\":{\"contents\":\"{{vars.HTML}}\",\"filename\":\"Recommended_System_Configuration_{{arrow.utcnow().int_timestamp}}.html\",\"mimetype\":\"\"},\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"tenant\":\"\",\"thread\":false,\"content\":\"<p>Report Creation Completed<br><br>Attachment Creation in Progress<\/p>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\"},\"version\":\"3.2.5\",\"connector\":\"cyops_utilities\",\"operation\":\"create_file_from_string\",\"operationTitle\":\"File: Create File from String\",\"step_variables\":{}},\"status\":null,\"top\":\"60\",\"left\":\"380\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562\",\"@type\":\"WorkflowStepType\",\"name\":\"CyopsUtilites\",\"displayName\":\"Utilities\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/connector\",\"arguments\":{\"connector\":\"cyops_utilities\"}},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-utilities\",\"background\":\"#ff7600\",\"index\":321,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"0109f35d-090b-4a2b-bd8a-94cbc3508562\",\"id\":16},\"group\":\"\/api\/3\/workflow_groups\/c19cea31-9ef6-4da9-8753-6c1b7b4a398c\",\"uuid\":\"818a4e86-1dd7-4ae0-be4c-7b593ca5fc27\",\"_oldUuid\":\"818a4e86-1dd7-4ae0-be4c-7b593ca5fc27\",\"htmlEncodedName\":\"Create Report File\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/f0bab856-75ca-479a-9333-8a2512e0f9b6\",\"@type\":\"WorkflowStep\",\"name\":\"Create Task For Installing SSH connector and adding configuration\",\"description\":null,\"arguments\":{\"resource\":{\"name\":\"System Configuration Recommendation\",\"type\":\"\/api\/3\/picklists\/30300411-a2e0-42dc-9180-513904f73ab9\",\"status\":\"\/api\/3\/picklists\/7669725a-28cc-4b19-98a3-9ca71e0f88f4\",\"priority\":\"\/api\/3\/picklists\/90088ebe-0a7d-4aa6-9c9c-93b937a4e4f8\",\"recordTags\":[\"\/api\/3\/tags\/System Config Recommendation\"],\"description\":\"This Task is Create for Tracking and For Confirming installation and configuring SSH connector \\n\\nAs soon as SSH connector is installed and configured then please mark this task as complete and view comment section for Update in this record only \",\"assignedToPerson\":\"\/api\/3\/people\/3451141c-bac6-467c-8d72-85e0fab569ce\"},\"collection\":\"tasks\",\"step_variables\":{}},\"status\":null,\"top\":\"120\",\"left\":\"360\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/dc6ac63d-c5a5-472f-9eb4-6b18473a98b8\",\"@type\":\"WorkflowStepType\",\"name\":\"ManualTask\",\"displayName\":\"Manual Task\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/c06cd820-a031-433b-9094-220dda64b4e4\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/wait\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-manual-task\",\"background\":\"#52b200\",\"index\":240,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"dc6ac63d-c5a5-472f-9eb4-6b18473a98b8\",\"id\":12},\"group\":null,\"uuid\":\"f0bab856-75ca-479a-9333-8a2512e0f9b6\",\"_oldUuid\":\"f0bab856-75ca-479a-9333-8a2512e0f9b6\",\"htmlEncodedName\":\"Create Task For Installing SSH connector and adding configuration\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/f840a802-9590-4c6e-be86-dd137274dd44\",\"@type\":\"WorkflowStep\",\"name\":\"Generate Report Code\",\"description\":null,\"arguments\":{\"HTML\":\"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n\\n<head>\\n    <title>FortiSOAR<\/title>\\n    <style>\\n        table.GeneratedTable {\\n            width: 100%;\\n            background-color: #797777;\\n            border-collapse: collapse;\\n            border-width: 2px;\\n            border-color: #080808;\\n            border-style: solid;\\n            color: #f3f2f2;\\n        }\\n\\n        table.GeneratedTable td,\\n        table.GeneratedTable th {\\n            border-width: 2px;\\n            border-color: #080808;\\n            border-style: solid;\\n            padding: 3px;\\n        }\\n\\n        table.GeneratedTable thead {\\n            background-color: #5074e2;\\n        }\\n        .spacing-div{\\n            height: 2vw;\\n        }\\n        code{\\n            color: crimson;\\n            background-color: #f1f1f1;\\n            padding: 2px;\\n            font-size: 105%;\\n        }\\n        \\n    <\/style>\\n<\/head>\\n\\n<body>\\n    <h1>\\n        <center>FortiSOAR - Recommended System Configuration.<\/center>\\n    <\/h1>\\n    <div class=\\\"spacing-div\\\"><\/div>\\n    <!-- <p> We performed a scan of system for resources like CPU , RAM , Disk\\n        Here are details about it\\n    <p> -->\\n    <h2> Here are your System Details<\/h2>\\n    <table class=\\\"GeneratedTable\\\">\\n        <thead>\\n            <tr>\\n                <th>S No<\/th>\\n                <th>System Entity<\/th>\\n                <th>Value<\/th>\\n            <\/tr>\\n        <\/thead>\\n        <tbody>\\n            <tr>\\n                <td>1<\/td>\\n                <td>CPU<\/td>\\n                <td>{{vars.system_config.CPU}}\\n                <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>2<\/td>\\n                <td>RAM\\n                <\/td>\\n                <td>{{vars.system_config.RAM}} GB\\n                <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>3<\/td>\\n                <td>Disk Latency\\n                <\/td>\\n                <td>{{vars.system_config[\\\"Disk latency\\\"]}}\\n                <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>3<\/td>\\n                <td>Disk IOPS - Read\\n                <\/td>\\n                <td>{{vars.system_config[\\\"Disk IOPS - Read\\\"] |regex_replace(\\\"[a-zA-Z]+\\\", \\\"\\\")}} {% set unit= vars.system_config[\\\"Disk IOPS - Read\\\"]| regex_search(\\\"[a-zA-Z]+\\\") %}{% if unit==\\\"k\\\" or  unit==\\\"K\\\"  %}KB{% elif unit==\\\"m\\\" or unit==\\\"M\\\" %}MB{% elif unit==\\\"g\\\" or unit==\\\"G\\\" %}GB{% else %}{{unit}}{%  endif %}\\n                <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>4<\/td>\\n                <td>Disk IOPS - Write\\n                <\/td>\\n                <td>{{vars.system_config[\\\"Disk IOPS - Write\\\"]|regex_replace(\\\"[a-zA-Z]+\\\", \\\"\\\")}} {% set unit= vars.system_config[\\\"Disk IOPS - Write\\\"]| regex_search(\\\"[a-zA-Z]+\\\") %}{% if unit==\\\"k\\\" or  unit==\\\"K\\\"  %}KB{% elif unit==\\\"m\\\" or unit==\\\"M\\\" %}MB{% elif unit==\\\"g\\\" or unit==\\\"G\\\" %}GB{% else %}{{unit}}{%  endif %}\\n                <\/td>\\n            <\/tr>\\n        <\/tbody>\\n    <\/table>\\n\\n    <div class=\\\"spacing-div\\\"><\/div>\\n    <h2>We recommend following system configuration based on system information gathered <\/h2>\\n    <table class=\\\"GeneratedTable\\\">\\n        <thead>\\n            <tr>\\n                <th>S No<\/th>\\n                <th>Configuration File<\/th>\\n                <th>Recommendation<\/th>\\n            <\/tr>\\n        <\/thead>\\n        <tbody>\\n            <tr>\\n                <td>1<\/td>\\n                <td>File -\/etc\/celery\/celeryd.conf<\/td>\\n                <td>Update key CELERYD_OPTS to use value = \\\"--concurrency={{vars.system_config.CPU}}\\\"\\n                <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>2<\/td>\\n                <td>File - \/etc\/uwsgi.d\/sealab_wsgi.ini\\n                <\/td>\\n                <td>Update value of processes to {{vars.system_config.CPU}} , e.g processes = {{vars.system_config.CPU}}\\n                <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>3<\/td>\\n                <td>File - \/etc\/nginx\/nginx.conf\\n                <\/td>\\n                <td>Set value of worker processes as auto - e.g worker_processes auto\\n                <\/td>\\n            <\/tr>\\n        <\/tbody>\\n    <\/table>\\n\\n    <div class=\\\"spacing-div\\\"><\/div>\\n    <h2>Also here are few recommendation for PostgreSQL<\/h2>\\n    <table class=\\\"GeneratedTable\\\">\\n        <thead>\\n            <tr>\\n                <th>Sr No<\/th>\\n                <th>Property<\/th>\\n                <th>Recommended Value<\/th>\\n                <th>Unit<\/th>\\n            <\/tr>\\n        <\/thead>\\n        <tbody>\\n            <tr>\\n                <td>1<\/td>\\n                <td>work_mem{% set variable = (vars.workMem | int) %}<\/td>\\n                <td>{{((variable\/1024) if variable > 4096 else (variable))| round | int}}<\/td>\\n                <td>{{'GB' if variable > 4096 else 'MB' }}<\/td>\\n            <\/tr>\\n            <tr>\\n                <td>2<\/td>\\n                <td>wal_buffers{% set variable = (vars.walBuffers | int) %}<\/td>\\n                <td>{{((variable\/1024) if variable > 4096 else (variable))| round | int}}<\/td>\\n                <td>{{'GB' if variable > 4096 else 'MB' }}<\/td>\\n            <\/tr>\\n            <tr>\\n                <td>3<\/td>\\n                <td>effective_cache_size{% set variable = (vars.effectiveCacheSize | int) %}<\/td>\\n                <td>{{((variable\/1024) if variable > 4096 else (variable))| round | int}}<\/td>\\n                <td>{{'GB' if variable > 4096 else 'MB' }}<\/td>\\n            <\/tr>\\n            <tr>\\n                <td>4<\/td>\\n                <td>maintenance_work_mem{% set variable = (vars.maintenanceWorkMem | int) %}<\/td>\\n                <td>{{((variable\/1024) if variable > 4096 else (variable))| round | int}}<\/td>\\n                <td>{{'GB' if variable > 4096 else 'MB' }}<\/td>\\n            <\/tr>\\n            <tr>\\n                <td>5<\/td>\\n                <td>random_page_cost<span style=\\\"color: red;\\\">*<\/span><\/td>\\n                <td>{{vars.randomPageCost_SSD}}<\/td>\\n                <td> Not Any <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>6<\/td>\\n                <td>max_parallel_workers<\/td>\\n                <td>{{vars.max_parallel_workers}}<\/td>\\n                <td> Not Any <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>7<\/td>\\n                <td>max_worker_processes<\/td>\\n                <td>{{vars.max_worker_processes}}<\/td>\\n                <td> Not Any <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>8<\/td>\\n                <td>checkpoint_completion_target<\/td>\\n                <td>{{vars.checkpointCompletionTarget}}<\/td>\\n                <td> Not Any <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>9<\/td>\\n                <td>effective_io_concurrency<span style=\\\"color: red;\\\">*<\/span><\/td>\\n                <td>{{vars.effectiveIoConcurrency_SSD}}<\/td>\\n                <td> Not Any <\/td>\\n            <\/tr>\\n            <tr>\\n                <td>10<\/td>\\n                <td>max_parallel_workers_per_gather<\/td>\\n                <td>{{vars.max_parallel_workers_per_gather}}<\/td>\\n                <td> Not Any <\/td>\\n            <\/tr>\\n        <\/tbody>\\n    <\/table>\\n\\n    <p> <span style=\\\"color: red;\\\">*<\/span> <span style=\\\"font-style: italic;font-weight: bold;text-decoration: underline;\\\"> Note : These field is applicable only when your system's storage is Solid State Drive<\/span> <\/p>\\n\\n    <div>\\n        <h2>Here is the way to use this configuration and apply in you VM <\/h2>\\n        <h3>Steps to incorporate the above listed recommendation<\/h3>\\n        Following are steps specifically for PostgreSQL\\n        <ol>\\n            <li>Login to SSH of your VM<\/li>\\n            <li>Change The User to Root User using <code>sudo su<\/code><\/li>\\n            <li>Now use vi editor to apply the above recommendations to <code>\/var\/lib\/pgsql\/14\/data\/postgresql.conf<\/code><\/li>\\n            <li>Restart the service via <code>systemctl restart postgresql-14.service <\/code><\/li>\\n        <\/ol>\\n        Following are steps specifically for Nginx, sealab_wsgi and Celery D\\n        <ol>\\n            <li>Login to SSH of your VM<\/li>\\n            <li>Change The User to Root User using <code>sudo su<\/code><\/li>\\n            <li>Now use vi editor to apply the above recommendations to the file mentioned in FortiSOAR - Recommended System Configuration table <\/li>\\n            <li>Restart the service via <code>csadm services --restart<\/code><\/li>\\n        <\/ol>\\n    <\/div>\\n    \\n<\/body>\\n\\n<\/html>\",\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"thread\":false,\"content\":\"<p>System Details Analysed&nbsp;<br><br>Report Creation in progress<\/p>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\"}},\"status\":null,\"top\":\"60\",\"left\":\"60\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f\",\"@type\":\"WorkflowStepType\",\"name\":\"SetVariable\",\"displayName\":\"Set Variable\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/c04ab14a-669e-4502-92a3-3beef3cf6219\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/set_multiple\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-set-variables\",\"background\":\"#f7ac20\",\"index\":140,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"04d0cf46-b6a8-42c4-8683-60a7eaa69e8f\",\"id\":6},\"group\":\"\/api\/3\/workflow_groups\/c19cea31-9ef6-4da9-8753-6c1b7b4a398c\",\"uuid\":\"f840a802-9590-4c6e-be86-dd137274dd44\",\"_oldUuid\":\"f840a802-9590-4c6e-be86-dd137274dd44\",\"htmlEncodedName\":\"Generate Report Code\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/d08c763f-ea43-438e-bc06-ccaf4f860e06\",\"@type\":\"WorkflowStep\",\"name\":\"Get Input Confirmation\",\"description\":null,\"arguments\":{\"type\":\"InputBased\",\"input\":{\"schema\":{\"title\":\"Confirm System Configuration\",\"description\":\"We have capture system configuration. Please confirm to proceed.\\nYou can reduce  CPU & RAM number so that suggestion will not use all of CPU \/ RAM  or proceed to use complete CPU \/ RAM for system tune up.\\n\\n1. CPU - {{vars.system_config.CPU}}\\n2. RAM - {{vars.system_config.RAM}}\\n3. Disk IOPS - Read - {{vars.system_config[\\\"Disk IOPS - Read\\\"]}}\\n4. Disk IOPS - Wrtie - {{vars.system_config[\\\"Disk IOPS - Write\\\"]}}\\n5. Disk latency - {{vars.system_config[\\\"Disk latency\\\"]}}\",\"inputVariables\":[]}},\"record\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"tenant\":\"\",\"thread\":false,\"content\":\"<p>No Error Found Please check If System Details are correct<\/p>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\"},\"agent_id\":null,\"resources\":\"tasks\",\"is_approval\":false,\"owner_detail\":{\"isAssigned\":false,\"emailRecipients\":\"\"},\"isRecordLinked\":true,\"step_variables\":{\"sharedBuffersValue\":\"{{(((vars.system_config.RAM | int )\/ 4 ) * 1024 ) | round}}\"},\"response_mapping\":{\"options\":[{\"option\":\"Details Are Correct\",\"primary\":true,\"step_iri\":\"\/api\/3\/workflow_steps\/30c2508e-314c-4685-8d6c-874d9cb9a906\"},{\"option\":\"Review Required\",\"step_iri\":\"\/api\/3\/workflow_steps\/ee00efb2-c35f-48c1-ba0c-952e0c26f1e9\"}],\"duplicateOption\":false,\"customSuccessMessage\":\"Awaiting Playbook resumed successfully.\"},\"email_notification\":{\"enabled\":false,\"smtpParameters\":{}},\"customEmailExternal\":false,\"inline_channel_list\":[],\"external_channel_list\":[],\"unauthenticated_input\":false,\"external_email_subject\":null,\"internal_email_subject\":\"A FortiSOAR playbook is requesting your input\",\"custom_email_body_external\":null,\"external_email_attachments\":null},\"status\":null,\"top\":\"60\",\"left\":\"20\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/fc04082a-d7dc-4299-96fb-6837b1baa0fe\",\"@type\":\"WorkflowStepType\",\"name\":\"ManualInput\",\"displayName\":\"Manual Input\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/c06cd820-a031-433b-9094-220dda64b4e4\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/manual_input\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-manual-input\",\"background\":\"#52b200\",\"index\":260,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"fc04082a-d7dc-4299-96fb-6837b1baa0fe\",\"id\":14},\"group\":\"\/api\/3\/workflow_groups\/b82ea15b-40e4-441b-83d7-f5a2e15d1849\",\"uuid\":\"d08c763f-ea43-438e-bc06-ccaf4f860e06\",\"_oldUuid\":\"d08c763f-ea43-438e-bc06-ccaf4f860e06\",\"htmlEncodedName\":\"Get Input Confirmation\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\",\"@type\":\"WorkflowStep\",\"name\":\"Get System Configuration\",\"description\":null,\"arguments\":{\"name\":\"SSH\",\"config\":\"739b5a4e-30ca-4c76-a1d7-0ee9d694cff4\",\"params\":{\"cmd\":\"\/bin\/python3  \/opt\/cyops\/scripts\/get_system_details.py\",\"allowed_exit\":\"-1,0\",\"is_super_user\":false},\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"tenant\":\"\",\"thread\":false,\"content\":\"<p>Examining Your System for following details&nbsp;<\/p>\\n<ol>\\n<li>CPU<\/li>\\n<li>RAM<\/li>\\n<li>IOPS<\/li>\\n<li>Disk Latency&nbsp;<\/li>\\n<\/ol>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/6f21ed23-bfc4-432b-b3c2-ff727ec34de6\"},\"version\":\"2.1.2\",\"connector\":\"ssh\",\"operation\":\"run_remote_command\",\"operationTitle\":\"Execute remote command\",\"pickFromTenant\":false,\"step_variables\":{\"system_config\":\"{{vars.steps.Get_System_Configuration.data | toDict}}\"}},\"status\":null,\"top\":\"80\",\"left\":\"40\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/0bfed618-0316-11e7-93ae-92361f002671\",\"@type\":\"WorkflowStepType\",\"name\":\"Connectors\",\"displayName\":\"SSH 2.1.2\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/connector\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-connectors\",\"background\":\"#ff7600\",\"index\":320,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"0bfed618-0316-11e7-93ae-92361f002671\",\"id\":15},\"group\":\"\/api\/3\/workflow_groups\/eb0451e1-793f-49d1-b6a4-d42b836a58b8\",\"uuid\":\"172235a2-b8ec-49f8-bd41-9a85dc089713\",\"_oldUuid\":\"172235a2-b8ec-49f8-bd41-9a85dc089713\",\"htmlEncodedName\":\"Get System Configuration\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/30c2508e-314c-4685-8d6c-874d9cb9a906\",\"@type\":\"WorkflowStep\",\"name\":\"Postgresql Configuration\",\"description\":null,\"arguments\":{\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"thread\":false,\"content\":\"<p>Analysing System Details for Recommendation<\/p>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\"},\"workMem\":\"{{(vars.system_config.RAM | int \/4 ) | round}}\",\"walBuffers\":\"{{((3 * vars.sharedBuffersValue | int ) \/ 100) | round }}\",\"workersPerGather\":\"4\",\"effectiveCacheSize\":\"{{((vars.system_config.RAM| int )* 3  * 1024 \/ 4 ) | round}}\",\"maintenanceWorkMem\":\"{{ ((vars.system_config.RAM| int )* 1024 \/ 16) | round }}\",\"randomPageCost_HDD\":\"4\",\"randomPageCost_SSD\":\"1.1\",\"max_parallel_workers\":\"{{vars.system_config.CPU}}\",\"max_worker_processes\":\"{{vars.system_config.CPU}}\",\"checkpointCompletionTarget\":\"0.9\",\"effectiveIoConcurrency_HDD\":\"2\",\"effectiveIoConcurrency_SSD\":\"200\",\"parallelMaintenanceWorkers\":\"4\",\"max_parallel_workers_per_gather\":\"{{(vars.system_config.CPU  | int \/ 2) | int}}\"},\"status\":null,\"top\":\"400\",\"left\":\"1000\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f\",\"@type\":\"WorkflowStepType\",\"name\":\"SetVariable\",\"displayName\":\"Set Variable\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/c04ab14a-669e-4502-92a3-3beef3cf6219\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/set_multiple\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-set-variables\",\"background\":\"#f7ac20\",\"index\":140,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"04d0cf46-b6a8-42c4-8683-60a7eaa69e8f\",\"id\":6},\"group\":null,\"uuid\":\"30c2508e-314c-4685-8d6c-874d9cb9a906\",\"_oldUuid\":\"30c2508e-314c-4685-8d6c-874d9cb9a906\",\"htmlEncodedName\":\"Postgresql Configuration\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/093cce4f-241a-455b-9fb3-d29b49822200\",\"@type\":\"WorkflowStep\",\"name\":\"Report as Attachment\",\"description\":null,\"arguments\":{\"params\":{\"name\":\"{{vars.steps.Create_Report_File.data.filename| regex_replace(\\\"_[0-9]+[\\\\.]html\\\", \\\"\\\")}}\",\"filename\":\"{{vars.steps.Create_Report_File.data.filename}}\",\"description\":\"This is Playbook Generated Report for System Configuration Recommendation\",\"request_headers\":\"\",\"multipart_headers\":\"\",\"extra_multipart_fields\":\"\"},\"message\":{\"tags\":[],\"type\":\"\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b\",\"tenant\":\"\",\"thread\":false,\"content\":\"<p>Attachment Creation Completed<br>Please click on following link to navigate to Attachments {% set uuid=vars.steps.Report_as_Attachment.data[\\\"@id\\\"]| regex_search(\\\"[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}\\\") %} <a href=\\\"\/modules\/view-panel\/attachments\/{{uuid}}\\\">{{vars.steps.Create_Report_File.data.filename| regex_replace(\\\"_[0-9]+[\\\\.]html\\\", \\\"\\\")}}<\/a><\/p>\\n<p>&nbsp;<\/p>\",\"records\":\"{{vars.steps.Create_Task_For_Installing_SSH_connector_and_adding_configuration['task_data']['@id']}}\",\"parentstepid\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\"},\"version\":\"3.2.5\",\"connector\":\"cyops_utilities\",\"operation\":\"create_cyops_attachment\",\"operationTitle\":\"File: Create Attachment from File\",\"step_variables\":{}},\"status\":null,\"top\":\"60\",\"left\":\"700\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562\",\"@type\":\"WorkflowStepType\",\"name\":\"CyopsUtilites\",\"displayName\":\"Utilities\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/connector\",\"arguments\":{\"connector\":\"cyops_utilities\"}},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-utilities\",\"background\":\"#ff7600\",\"index\":321,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"0109f35d-090b-4a2b-bd8a-94cbc3508562\",\"id\":16},\"group\":\"\/api\/3\/workflow_groups\/c19cea31-9ef6-4da9-8753-6c1b7b4a398c\",\"uuid\":\"093cce4f-241a-455b-9fb3-d29b49822200\",\"_oldUuid\":\"093cce4f-241a-455b-9fb3-d29b49822200\",\"htmlEncodedName\":\"Report as Attachment\",\"htmlEncodedDescription\":\"null\"},{\"@id\":\"\/api\/3\/workflow_steps\/e028ac49-8dca-4e72-a1c1-fb8bdd76b997\",\"@type\":\"WorkflowStep\",\"name\":\"Start\",\"description\":null,\"arguments\":{\"__triggerLimit\":true,\"step_variables\":{\"input\":{\"params\":[]}},\"triggerOnSource\":true,\"triggerOnReplicate\":false},\"status\":null,\"top\":\"120\",\"left\":\"40\",\"stepType\":{\"@id\":\"\/api\/3\/workflow_step_types\/b348f017-9a94-471f-87f8-ce88b6a7ad62\",\"@type\":\"WorkflowStepType\",\"name\":\"cybersponse.abstract_trigger\",\"displayName\":\"Referenced\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/51627f80-3dd5-4260-b86d-cc53a7cece15\",\"arguments\":[],\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f\",\"@type\":\"WorkflowStepType\",\"name\":\"SetVariable\",\"displayName\":\"Set Variable\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/c04ab14a-669e-4502-92a3-3beef3cf6219\",\"arguments\":{\"script\":\"\/wf\/workflow\/tasks\/set_multiple\"},\"parent\":{\"@id\":\"\/api\/3\/workflow_step_types\/ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"@type\":\"WorkflowStepType\",\"name\":\"RunScript\",\"displayName\":\"Run Utility Functions\",\"widget\":null,\"collection\":\"\/api\/3\/step_type_collections\/f3561053-417f-4591-8fa4-ca9da8e1da8b\",\"arguments\":[],\"parent\":null,\"icon\":\"fa fa-file-code-o\",\"background\":\"#ba0017\",\"index\":340,\"visible\":false,\"deprecated\":false,\"description\":null,\"uuid\":\"ee73e569-2188-43fe-a7f0-1964ba82a4de\",\"id\":2},\"icon\":\"icon icon-set-variables\",\"background\":\"#f7ac20\",\"index\":140,\"visible\":true,\"deprecated\":false,\"description\":null,\"uuid\":\"04d0cf46-b6a8-42c4-8683-60a7eaa69e8f\",\"id\":6},\"icon\":\"icon icon-referenced\",\"background\":null,\"index\":140,\"visible\":true,\"deprecated\":false,\"description\":\"Triggered from another playbook using a \\\"Reference Playbook\\\" step or from a schedule.\",\"uuid\":\"b348f017-9a94-471f-87f8-ce88b6a7ad62\",\"id\":30},\"group\":null,\"uuid\":\"e028ac49-8dca-4e72-a1c1-fb8bdd76b997\",\"_oldUuid\":\"e028ac49-8dca-4e72-a1c1-fb8bdd76b997\",\"class\":\"trigger-step\",\"htmlEncodedName\":\"Start\",\"htmlEncodedDescription\":\"null\"}],\"groups\":[{\"@id\":\"\/api\/3\/workflow_groups\/46b2eef9-1f05-4ac5-b7ab-b88729b74ad7\",\"@type\":\"WorkflowGroup\",\"name\":\"Checking For Error and Create task to resolve error\",\"description\":\"There are two types of error that can occur, first due to PGSQL directory is not mounted and second one because of some command is not installed\",\"type\":\"block\",\"isCollapsed\":false,\"hasTriggerStep\":false,\"hideInLogs\":false,\"metadata\":[],\"reusable\":false,\"top\":\"40\",\"left\":\"980\",\"height\":\"174\",\"width\":\"679\",\"uuid\":\"46b2eef9-1f05-4ac5-b7ab-b88729b74ad7\",\"recordTags\":[],\"htmlEncodedName\":\"Checking For Error and Create task to resolve error\",\"htmlEncodedDescription\":\"There are two types of error that can occur, first due to PGSQL directory is not mounted and second one because of some command is not installed\",\"editMode\":true,\"htmlExectime\":\"\"},{\"@id\":\"\/api\/3\/workflow_groups\/c19cea31-9ef6-4da9-8753-6c1b7b4a398c\",\"@type\":\"WorkflowGroup\",\"name\":\"Generate System Config Recomendation\",\"description\":\"\",\"type\":\"block\",\"isCollapsed\":false,\"hasTriggerStep\":false,\"hideInLogs\":false,\"metadata\":[],\"reusable\":false,\"top\":\"480\",\"left\":\"940\",\"height\":\"164\",\"width\":\"991\",\"uuid\":\"c19cea31-9ef6-4da9-8753-6c1b7b4a398c\",\"recordTags\":[],\"htmlEncodedName\":\"Generate System Config Recomendation\",\"htmlEncodedDescription\":\"\",\"editMode\":true,\"htmlExectime\":\"\"},{\"@id\":\"\/api\/3\/workflow_groups\/eb0451e1-793f-49d1-b6a4-d42b836a58b8\",\"@type\":\"WorkflowGroup\",\"name\":\"Get System Details\",\"description\":\"This step uses python script to return you the system configuration\",\"type\":\"block\",\"isCollapsed\":false,\"hasTriggerStep\":false,\"hideInLogs\":false,\"metadata\":[],\"reusable\":false,\"top\":\"40\",\"left\":\"640\",\"height\":\"171\",\"width\":\"319\",\"uuid\":\"eb0451e1-793f-49d1-b6a4-d42b836a58b8\",\"recordTags\":[],\"htmlEncodedName\":\"Get System Details\",\"htmlEncodedDescription\":\"This step uses python script to return you the system configuration\",\"editMode\":true,\"htmlExectime\":\"\"},{\"@id\":\"\/api\/3\/workflow_groups\/b82ea15b-40e4-441b-83d7-f5a2e15d1849\",\"@type\":\"WorkflowGroup\",\"name\":\"User Review\",\"description\":\"\",\"type\":\"block\",\"isCollapsed\":false,\"hasTriggerStep\":false,\"hideInLogs\":false,\"metadata\":[],\"reusable\":false,\"top\":\"220\",\"left\":\"980\",\"height\":\"167\",\"width\":\"688\",\"uuid\":\"b82ea15b-40e4-441b-83d7-f5a2e15d1849\",\"recordTags\":[],\"htmlEncodedName\":\"User Review\",\"htmlEncodedDescription\":\"\",\"editMode\":true,\"htmlExectime\":\"\"}],\"routes\":[{\"@id\":\"\/api\/3\/workflow_routes\/e99e11ff-6cd5-4dcf-9df0-e15e53b35838\",\"@type\":\"WorkflowRoute\",\"name\":\"Check if Data is Present -> Based on error Create a task for Current User\",\"targetStep\":\"\/api\/3\/workflow_steps\/8fd73054-6787-455f-a9b4-4b1f548750ea\",\"sourceStep\":\"\/api\/3\/workflow_steps\/aade7fa0-1a34-4747-a56b-155403b54091\",\"label\":\"is present\",\"isExecuted\":false,\"group\":null,\"uuid\":\"e99e11ff-6cd5-4dcf-9df0-e15e53b35838\"},{\"@id\":\"\/api\/3\/workflow_routes\/dcacdb08-5203-4999-8e09-d25600c9bf4f\",\"@type\":\"WorkflowRoute\",\"name\":\"Check if Data is Present -> Get Input Confirmation\",\"targetStep\":\"\/api\/3\/workflow_steps\/d08c763f-ea43-438e-bc06-ccaf4f860e06\",\"sourceStep\":\"\/api\/3\/workflow_steps\/aade7fa0-1a34-4747-a56b-155403b54091\",\"label\":\"is not present\",\"isExecuted\":false,\"group\":null,\"uuid\":\"dcacdb08-5203-4999-8e09-d25600c9bf4f\"},{\"@id\":\"\/api\/3\/workflow_routes\/10350091-30d2-4dc6-8065-0ed7b5b46f4a\",\"@type\":\"WorkflowRoute\",\"name\":\"Create Report File -> Report as Attachment\",\"targetStep\":\"\/api\/3\/workflow_steps\/093cce4f-241a-455b-9fb3-d29b49822200\",\"sourceStep\":\"\/api\/3\/workflow_steps\/818a4e86-1dd7-4ae0-be4c-7b593ca5fc27\",\"label\":null,\"isExecuted\":false,\"group\":null,\"uuid\":\"10350091-30d2-4dc6-8065-0ed7b5b46f4a\"},{\"@id\":\"\/api\/3\/workflow_routes\/a04a73d8-ad62-474c-b5c2-0ccfebb803f5\",\"@type\":\"WorkflowRoute\",\"name\":\"Create Task For Installing SSH connector and adding configuration -> Get System Configuration\",\"targetStep\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\",\"sourceStep\":\"\/api\/3\/workflow_steps\/f0bab856-75ca-479a-9333-8a2512e0f9b6\",\"label\":null,\"isExecuted\":false,\"group\":null,\"uuid\":\"a04a73d8-ad62-474c-b5c2-0ccfebb803f5\"},{\"@id\":\"\/api\/3\/workflow_routes\/048ee09f-53cf-4a7c-8640-1bc0dd155553\",\"@type\":\"WorkflowRoute\",\"name\":\"Generate Report Code -> Create Report File\",\"targetStep\":\"\/api\/3\/workflow_steps\/818a4e86-1dd7-4ae0-be4c-7b593ca5fc27\",\"sourceStep\":\"\/api\/3\/workflow_steps\/f840a802-9590-4c6e-be86-dd137274dd44\",\"label\":null,\"isExecuted\":false,\"group\":null,\"uuid\":\"048ee09f-53cf-4a7c-8640-1bc0dd155553\"},{\"@id\":\"\/api\/3\/workflow_routes\/34000689-7158-47e3-ace3-a9dcf2cff8c6\",\"@type\":\"WorkflowRoute\",\"name\":\"Get Input Confirmation -> Create a Task to change the confguration and rerun this playbook\",\"targetStep\":\"\/api\/3\/workflow_steps\/ee00efb2-c35f-48c1-ba0c-952e0c26f1e9\",\"sourceStep\":\"\/api\/3\/workflow_steps\/d08c763f-ea43-438e-bc06-ccaf4f860e06\",\"label\":\"Review Required\",\"isExecuted\":false,\"group\":null,\"uuid\":\"34000689-7158-47e3-ace3-a9dcf2cff8c6\"},{\"@id\":\"\/api\/3\/workflow_routes\/d1fc5c73-b8bb-4969-8a3c-ed7fa5d08344\",\"@type\":\"WorkflowRoute\",\"name\":\"Get Input Confirmation -> Postgresql Configuration\",\"targetStep\":\"\/api\/3\/workflow_steps\/30c2508e-314c-4685-8d6c-874d9cb9a906\",\"sourceStep\":\"\/api\/3\/workflow_steps\/d08c763f-ea43-438e-bc06-ccaf4f860e06\",\"label\":\"Details Are Correct\",\"isExecuted\":false,\"group\":null,\"uuid\":\"d1fc5c73-b8bb-4969-8a3c-ed7fa5d08344\"},{\"@id\":\"\/api\/3\/workflow_routes\/8d131efc-2f35-452f-9860-90ffd3fce1ba\",\"@type\":\"WorkflowRoute\",\"name\":\"Get System Configuration -> Check if Data is Present\",\"targetStep\":\"\/api\/3\/workflow_steps\/aade7fa0-1a34-4747-a56b-155403b54091\",\"sourceStep\":\"\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713\",\"label\":null,\"isExecuted\":false,\"group\":null,\"uuid\":\"8d131efc-2f35-452f-9860-90ffd3fce1ba\"},{\"@id\":\"\/api\/3\/workflow_routes\/cea92ca2-710f-42a1-9e3d-8ecc6dd34cda\",\"@type\":\"WorkflowRoute\",\"name\":\"Postgresql Configuration -> Generate Report Code\",\"targetStep\":\"\/api\/3\/workflow_steps\/f840a802-9590-4c6e-be86-dd137274dd44\",\"sourceStep\":\"\/api\/3\/workflow_steps\/30c2508e-314c-4685-8d6c-874d9cb9a906\",\"label\":null,\"isExecuted\":false,\"group\":null,\"uuid\":\"cea92ca2-710f-42a1-9e3d-8ecc6dd34cda\"},{\"@id\":\"\/api\/3\/workflow_routes\/de4fc3a5-298d-4677-819f-7d32a8c87511\",\"@type\":\"WorkflowRoute\",\"name\":\"Report as Attachment -> Attach Attachment to Task\",\"targetStep\":\"\/api\/3\/workflow_steps\/6691b809-52e3-4752-a1ef-3a8be61b502a\",\"sourceStep\":\"\/api\/3\/workflow_steps\/093cce4f-241a-455b-9fb3-d29b49822200\",\"label\":null,\"isExecuted\":false,\"group\":null,\"uuid\":\"de4fc3a5-298d-4677-819f-7d32a8c87511\"},{\"@id\":\"\/api\/3\/workflow_routes\/646000f8-0787-4b12-8827-7f2e6c58390a\",\"@type\":\"WorkflowRoute\",\"name\":\"Start -> Create Task For Installing SSH connector and adding configuration\",\"targetStep\":\"\/api\/3\/workflow_steps\/f0bab856-75ca-479a-9333-8a2512e0f9b6\",\"sourceStep\":\"\/api\/3\/workflow_steps\/e028ac49-8dca-4e72-a1c1-fb8bdd76b997\",\"label\":null,\"isExecuted\":false,\"group\":null,\"uuid\":\"646000f8-0787-4b12-8827-7f2e6c58390a\"}],\"lastModifyDate\":1700729794,\"priority\":{\"@id\":\"\/api\/3\/picklists\/2b563c61-ae2c-41c0-a85a-c9709585e3f2\",\"@type\":\"Picklist\",\"itemValue\":\"Medium\",\"orderIndex\":1,\"color\":null,\"icon\":null,\"listName\":\"\/api\/3\/picklist_names\/e104ef72-11b4-4d0c-be0e-e1cf3b87b5f2\",\"uuid\":\"2b563c61-ae2c-41c0-a85a-c9709585e3f2\",\"id\":111,\"importedBy\":[],\"display\":\"Medium\"},\"id\":480,\"createUser\":{\"@id\":\"\/api\/3\/people\/3451141c-bac6-467c-8d72-85e0fab569ce\",\"@type\":\"Person\",\"firstname\":\"CS\",\"lastname\":\"Admin\",\"title\":\"Admin\",\"department\":null,\"email\":\"admin@example.com\",\"description\":null,\"phoneFax\":null,\"phoneHome\":null,\"phoneMobile\":null,\"phoneWork\":\"+16462759691\",\"csActive\":true,\"accessType\":\"Named\",\"companyId\":null,\"type\":null,\"userType\":null,\"avatar\":null,\"uuid\":\"3451141c-bac6-467c-8d72-85e0fab569ce\",\"createUser\":\"\/api\/3\/people\/3451141c-bac6-467c-8d72-85e0fab569ce\",\"createDate\":1698209756,\"modifyUser\":\"\/api\/3\/people\/3451141c-bac6-467c-8d72-85e0fab569ce\",\"modifyDate\":1700728589.52466,\"id\":3,\"userId\":\"f9cfde3e-0c7c-4094-8e1c-bb2aba4b318a\",\"@settings\":\"\/api\/3\/user_settings\/3451141c-bac6-467c-8d72-85e0fab569ce\",\"display\":\"CS Admin\"},\"createDate\":1700724055257.088,\"recordTags\":[\"system\",\"System Config Recommendation\"],\"isPrivate\":false,\"owners\":[],\"@id\":\"\/api\/3\/workflows\/abea60a3-004c-406a-be9f-16765f6f12ac\"}",
            "autosave": false,
            "workflow": "\/api\/3\/workflows\/abea60a3-004c-406a-be9f-16765f6f12ac",
            "uuid": "ebf9ebe0-ccd2-45a6-95a6-04749ced649d"
        }
    ],
    "triggerStep": "\/api\/3\/workflow_steps\/e028ac49-8dca-4e72-a1c1-fb8bdd76b997",
    "steps": [
        {
            "@type": "WorkflowStep",
            "name": "Attach Attachment to Task",
            "description": null,
            "arguments": {
                "resource": {
                    "__link": {
                        "attachments": "{{vars.steps.Report_as_Attachment.data['@id']}}"
                    }
                },
                "operation": "Append",
                "collection": "{{vars.steps.Create_Task_For_Tracking_Purposes['task_data']['@id']}}",
                "__recommend": [],
                "collectionType": "\/api\/3\/tasks",
                "fieldOperation": {
                    "recordTags": "Append"
                },
                "step_variables": []
            },
            "status": null,
            "top": "540",
            "left": "1960",
            "stepType": "\/api\/3\/workflow_step_types\/b593663d-7d13-40ce-a3a3-96dece928722",
            "group": null,
            "uuid": "6691b809-52e3-4752-a1ef-3a8be61b502a"
        },
        {
            "@type": "WorkflowStep",
            "name": "Based on Error Create a task for Current User",
            "description": null,
            "arguments": {
                "message": {
                    "tags": [],
                    "type": "\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b",
                    "tenant": "",
                    "thread": false,
                    "content": "<p>Error Found Please check Tasks for More Details&nbsp;&nbsp;<\/p>",
                    "records": "{{vars.steps.Create_Task_For_Tracking_Purposes['task_data']['@id']}}",
                    "parentstepid": "\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713"
                },
                "resource": {
                    "name": "{{\"Make sure that all commands required are installed\" if not (vars.system_config[\"error\"]| regex_search(\"PGSQL\") and (vars.system_config[\"error\"]| regex_search(\"PGSQL\")).strip()) else \"Please mount a drive for PGSQL directory\"}}",
                    "type": "\/api\/3\/picklists\/30300411-a2e0-42dc-9180-513904f73ab9",
                    "status": "\/api\/3\/picklists\/7669725a-28cc-4b19-98a3-9ca71e0f88f4",
                    "priority": "\/api\/3\/picklists\/90088ebe-0a7d-4aa6-9c9c-93b937a4e4f8",
                    "description": "#### Please check the following error\n{{vars.system_config[\"error\"]}}",
                    "assignedToPerson": "\/api\/3\/people\/3451141c-bac6-467c-8d72-85e0fab569ce"
                },
                "collection": "tasks",
                "step_variables": []
            },
            "status": null,
            "top": "80",
            "left": "380",
            "stepType": "\/api\/3\/workflow_step_types\/dc6ac63d-c5a5-472f-9eb4-6b18473a98b8",
            "group": "\/api\/3\/workflow_groups\/46b2eef9-1f05-4ac5-b7ab-b88729b74ad7",
            "uuid": "8fd73054-6787-455f-a9b4-4b1f548750ea"
        },
        {
            "@type": "WorkflowStep",
            "name": "Check For Error In Output",
            "description": null,
            "arguments": {
                "conditions": [
                    {
                        "option": "is not present",
                        "step_iri": "\/api\/3\/workflow_steps\/d08c763f-ea43-438e-bc06-ccaf4f860e06",
                        "condition": "{{ (vars.system_config[\"error\"] is undefined) or (vars.system_config[\"error\"] == None) }}",
                        "step_name": "Get Input Confirmation"
                    },
                    {
                        "option": "is present",
                        "default": true,
                        "step_iri": "\/api\/3\/workflow_steps\/8fd73054-6787-455f-a9b4-4b1f548750ea",
                        "step_name": "Based on Error Create a task for Current User"
                    }
                ],
                "step_variables": []
            },
            "status": null,
            "top": "80",
            "left": "20",
            "stepType": "\/api\/3\/workflow_step_types\/12254cf5-5db7-4b1a-8cb1-3af081924b28",
            "group": "\/api\/3\/workflow_groups\/46b2eef9-1f05-4ac5-b7ab-b88729b74ad7",
            "uuid": "aade7fa0-1a34-4747-a56b-155403b54091"
        },
        {
            "@type": "WorkflowStep",
            "name": "Create a Task to change the confguration and rerun this playbook",
            "description": null,
            "arguments": {
                "message": {
                    "tags": [],
                    "type": "\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b",
                    "tenant": "",
                    "thread": false,
                    "content": "<p>As you have selected to Review your system Configuration then please Update this task and rerun this playbook<\/p>",
                    "records": "{{vars.steps.Create_Task_For_Tracking_Purposes['task_data']['@id']}}",
                    "parentstepid": "\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713"
                },
                "resource": {
                    "name": "Change the configuration of VM",
                    "type": "\/api\/3\/picklists\/30300411-a2e0-42dc-9180-513904f73ab9",
                    "status": "\/api\/3\/picklists\/7669725a-28cc-4b19-98a3-9ca71e0f88f4",
                    "priority": "\/api\/3\/picklists\/90088ebe-0a7d-4aa6-9c9c-93b937a4e4f8",
                    "description": "#### Below is the Last Checked Configuration \n\n1. CPU - {{vars.system_config.CPU}}\n2. RAM - {{vars.system_config.RAM}}\n3. Disk IOPS - Read - {{vars.system_config[\"Disk IOPS - Read\"]}}\n4. Disk IOPS - Wrtie - {{vars.system_config[\"Disk IOPS - Write\"]}}\n5. Disk latency - {{vars.system_config[\"Disk latency\"]}}",
                    "assignedToPerson": "{{globalVars.Current_User}}"
                },
                "collection": "tasks",
                "step_variables": []
            },
            "status": null,
            "top": "60",
            "left": "420",
            "stepType": "\/api\/3\/workflow_step_types\/dc6ac63d-c5a5-472f-9eb4-6b18473a98b8",
            "group": "\/api\/3\/workflow_groups\/b82ea15b-40e4-441b-83d7-f5a2e15d1849",
            "uuid": "ee00efb2-c35f-48c1-ba0c-952e0c26f1e9"
        },
        {
            "@type": "WorkflowStep",
            "name": "Create Report File",
            "description": null,
            "arguments": {
                "params": {
                    "contents": "{{vars.HTML}}",
                    "filename": "Recommended_System_Configuration_{{arrow.utcnow().int_timestamp}}.html",
                    "mimetype": ""
                },
                "message": {
                    "tags": [],
                    "type": "\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b",
                    "tenant": "",
                    "thread": false,
                    "content": "<p>Report Generated&nbsp; and Created Attachment for same<\/p>",
                    "records": "{{vars.steps.Create_Task_For_Tracking_Purposes['task_data']['@id']}}",
                    "parentstepid": "\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713"
                },
                "version": "3.2.5",
                "connector": "cyops_utilities",
                "operation": "create_file_from_string",
                "operationTitle": "File: Create File from String",
                "step_variables": []
            },
            "status": null,
            "top": "60",
            "left": "380",
            "stepType": "\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562",
            "group": "\/api\/3\/workflow_groups\/c19cea31-9ef6-4da9-8753-6c1b7b4a398c",
            "uuid": "818a4e86-1dd7-4ae0-be4c-7b593ca5fc27"
        },
        {
            "@type": "WorkflowStep",
            "name": "Create Task For Tracking Purposes",
            "description": null,
            "arguments": {
                "resource": {
                    "name": "System Configuration Recommendation",
                    "type": "\/api\/3\/picklists\/30300411-a2e0-42dc-9180-513904f73ab9",
                    "status": "\/api\/3\/picklists\/7669725a-28cc-4b19-98a3-9ca71e0f88f4",
                    "priority": "\/api\/3\/picklists\/90088ebe-0a7d-4aa6-9c9c-93b937a4e4f8",
                    "recordTags": [
                        "\/api\/3\/tags\/System Config Recommendation"
                    ],
                    "description": "### This Task is Create for Tracking of System Configuration Recommendation Playbook\n\n\n* * *\n\n#### For HA setup Only \n\nMake sure that all the Nodes have Same Configuration in their configuration files.  And while restarting services, start with Primary node and ",
                    "assignedToPerson": "\/api\/3\/people\/3451141c-bac6-467c-8d72-85e0fab569ce"
                },
                "collection": "tasks",
                "step_variables": []
            },
            "status": null,
            "top": "120",
            "left": "360",
            "stepType": "\/api\/3\/workflow_step_types\/dc6ac63d-c5a5-472f-9eb4-6b18473a98b8",
            "group": null,
            "uuid": "f0bab856-75ca-479a-9333-8a2512e0f9b6"
        },
        {
            "@type": "WorkflowStep",
            "name": "Generate Report Code",
            "description": null,
            "arguments": {
                "HTML": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <title>FortiSOAR<\/title>\n    <style>\n        table.GeneratedTable {\n            width: 100%;\n            background-color: #797777;\n            border-collapse: collapse;\n            border-width: 2px;\n            border-color: #080808;\n            border-style: solid;\n            color: #f3f2f2;\n        }\n\n        table.GeneratedTable td,\n        table.GeneratedTable th {\n            border-width: 2px;\n            border-color: #080808;\n            border-style: solid;\n            padding: 3px;\n        }\n\n        table.GeneratedTable thead {\n            background-color: #5074e2;\n        }\n        .spacing-div{\n            height: 2vw;\n        }\n        code{\n            color: crimson;\n            background-color: #f1f1f1;\n            padding: 2px;\n            font-size: 105%;\n        }\n        \n    <\/style>\n<\/head>\n\n<body>\n    <h1>\n        <center>FortiSOAR - Recommended System Configuration.<\/center>\n    <\/h1>\n    <div class=\"spacing-div\"><\/div>\n    <!-- <p> We performed a scan of system for resources like CPU , RAM , Disk\n        Here are details about it\n    <p> -->\n    <h2> Here are your System Details<\/h2>\n    <table class=\"GeneratedTable\">\n        <thead>\n            <tr>\n                <th>S No<\/th>\n                <th>System Entity<\/th>\n                <th>Value<\/th>\n            <\/tr>\n        <\/thead>\n        <tbody>\n            <tr>\n                <td>1<\/td>\n                <td>CPU<\/td>\n                <td>{{vars.system_config.CPU}}\n                <\/td>\n            <\/tr>\n            <tr>\n                <td>2<\/td>\n                <td>RAM\n                <\/td>\n                <td>{{vars.system_config.RAM}} GB\n                <\/td>\n            <\/tr>\n            <tr>\n                <td>3<\/td>\n                <td>Disk Latency\n                <\/td>\n                <td>{{vars.system_config[\"Disk latency\"]}}\n                <\/td>\n            <\/tr>\n            <tr>\n                <td>3<\/td>\n                <td>Disk IOPS - Read\n                <\/td>\n                <td>{{vars.system_config[\"Disk IOPS - Read\"]}}\n                <\/td>\n            <\/tr>\n            <tr>\n                <td>4<\/td>\n                <td>Disk IOPS - Write\n                <\/td>\n                <td>{{vars.system_config[\"Disk IOPS - Write\"]}}\n            <\/tr>\n            <tr>\n                <td>5<\/td>\n                <td>SHMALL\n                <\/td>\n                <td>{{vars.system_config[\"SHMALL\"]}}\n            <\/tr>\n            <tr>\n                <td>6<\/td>\n                <td>SHMMAX\n                <\/td>\n                <td>{{vars.system_config[\"SHMMAX\"]}}\n            <\/tr>\n        <\/tbody>\n    <\/table>\n\n    <div class=\"spacing-div\"><\/div>\n    <h2>We recommend following system configuration based on system information gathered <\/h2>\n    <table class=\"GeneratedTable\">\n        <thead>\n            <tr>\n                <th>S No<\/th>\n                <th>Configuration File<\/th>\n                <th>Recommendation<\/th>\n            <\/tr>\n        <\/thead>\n        <tbody>\n            <tr>\n                <td>1<\/td>\n                <td>File -\/etc\/celery\/celeryd.conf<\/td>\n                <td>Update key CELERYD_OPTS to use value = \"--concurrency={{vars.system_config.CPU}}\"\n                <\/td>\n            <\/tr>\n            <tr>\n                <td>2<\/td>\n                <td>File - \/etc\/uwsgi.d\/sealab_wsgi.ini\n                <\/td>\n                <td>Update value of processes to {{vars.system_config.CPU}} , e.g processes = {{vars.system_config.CPU}}\n                <\/td>\n            <\/tr>\n            <tr>\n                <td>3<\/td>\n                <td>File - \/etc\/nginx\/nginx.conf\n                <\/td>\n                <td>Set value of worker processes as auto - e.g worker_processes auto\n                <\/td>\n            <\/tr>\n        <\/tbody>\n    <\/table>\n\n    <div class=\"spacing-div\"><\/div>\n    <h2>Also here are few recommendation for PostgreSQL<\/h2>\n    <table class=\"GeneratedTable\">\n        <thead>\n            <tr>\n                <th>Sr No<\/th>\n                <th>Property<\/th>\n                <th>Recommended Value<\/th>\n                <th>Unit<\/th>\n            <\/tr>\n        <\/thead>\n        <tbody>\n            <tr>\n                <td>1<\/td>\n                <td>work_mem{% set variable = (vars.workMem | int) %}<\/td>\n                <td>{{((variable\/1024) if variable > 4096 else (variable))| round | int}}<\/td>\n                <td>{{'GB' if variable > 4096 else 'MB' }}<\/td>\n            <\/tr>\n            <tr>\n                <td>2<\/td>\n                <td>wal_buffers{% set variable = (vars.walBuffers | int) %}<\/td>\n                <td>{{((variable\/1024) if variable > 4096 else (variable))| round | int}}<\/td>\n                <td>{{'GB' if variable > 4096 else 'MB' }}<\/td>\n            <\/tr>\n            <tr>\n                <td>3<\/td>\n                <td>effective_cache_size{% set variable = (vars.effectiveCacheSize | int) %}<\/td>\n                <td>{{((variable\/1024) if variable > 4096 else (variable))| round | int}}<\/td>\n                <td>{{'GB' if variable > 4096 else 'MB' }}<\/td>\n            <\/tr>\n            <tr>\n                <td>4<\/td>\n                <td>maintenance_work_mem{% set variable = (vars.maintenanceWorkMem | int) %}<\/td>\n                <td>{{((variable\/1024) if variable > 4096 else (variable))| round | int}}<\/td>\n                <td>{{'GB' if variable > 4096 else 'MB' }}<\/td>\n            <\/tr>\n            <tr>\n                <td>5<\/td>\n                <td>random_page_cost<span style=\"color: red;\">*<\/span><\/td>\n                <td>{{vars.randomPageCost_SSD}}<\/td>\n                <td> Not Any <\/td>\n            <\/tr>\n            <tr>\n                <td>6<\/td>\n                <td>max_parallel_workers<\/td>\n                <td>{{vars.max_parallel_workers}}<\/td>\n                <td> Not Any <\/td>\n            <\/tr>\n            <tr>\n                <td>7<\/td>\n                <td>max_worker_processes<\/td>\n                <td>{{vars.max_worker_processes}}<\/td>\n                <td> Not Any <\/td>\n            <\/tr>\n            <tr>\n                <td>8<\/td>\n                <td>checkpoint_completion_target<\/td>\n                <td>{{vars.checkpointCompletionTarget}}<\/td>\n                <td> Not Any <\/td>\n            <\/tr>\n            <tr>\n                <td>9<\/td>\n                <td>effective_io_concurrency<span style=\"color: red;\">*<\/span><\/td>\n                <td>{{vars.effectiveIoConcurrency_SSD}}<\/td>\n                <td> Not Any <\/td>\n            <\/tr>\n            <tr>\n                <td>10<\/td>\n                <td>max_parallel_workers_per_gather<\/td>\n                <td>{{vars.max_parallel_workers_per_gather}}<\/td>\n                <td> Not Any <\/td>\n            <\/tr>\n        <\/tbody>\n    <\/table>\n\n    <p> <span style=\"color: red;\">*<\/span> <span style=\"font-style: italic;font-weight: bold;text-decoration: underline;\"> Note : These field is applicable only when your system's storage is Solid State Drive<\/span> <\/p>\n\n    <div>\n        <h2>Here is the way to use this configuration and apply in you VM <\/h2>\n        <h3>Steps to incorporate the above listed recommendation<\/h3>\n        <ol>\n            <li>Login to Terminal of Your VM via SSH<\/li>\n            <li>Edit following files with above mentioned changes <br\/>\n                <ul>\n                    <li>\n                        Celery-D<br\/>\n                        <ul>\n                            <li>File Location :  <code>\/etc\/celery\/celeryd.conf<\/code><\/li>\n                        <\/ul>\n                    <\/li>\n                    <li>\n                        Sealab_WSGI<br\/>\n                        <ul>\n                            <li>File Location :  <code>\/etc\/uwsgi.d\/sealab_wsgi.ini<\/code><\/li>\n                        <\/ul>\n                    <\/li>\n                    <li>\n                        NGNIX<br\/>\n                        <ul>\n                            <li>File Location : <code>\/etc\/nginx\/nginx.conf<\/code><\/li> \n                        <\/ul>\n                    <\/li>\n                    <li>\n                        PostgreSQL<br\/>\n                        <ul>\n                            <li>File Location :  <code>\/var\/lib\/pgsql\/14\/data\/postgresql.conf<\/code><\/li>\n                        <\/ul>\n                    <\/li>\n                <\/ul>\n            <\/li>\n            <li>Restart services using csadm commands <code>csadm services --status<\/code><\/li>\n        <\/ol>\n    <\/div>\n    \n<\/body>\n\n<\/html>",
                "message": {
                    "tags": [],
                    "type": "\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b",
                    "thread": false,
                    "content": "<p>System Details are Analysed and Creating Report<\/p>",
                    "records": "{{vars.steps.Create_Task_For_Tracking_Purposes['task_data']['@id']}}",
                    "parentstepid": "\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713"
                }
            },
            "status": null,
            "top": "60",
            "left": "60",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": "\/api\/3\/workflow_groups\/c19cea31-9ef6-4da9-8753-6c1b7b4a398c",
            "uuid": "f840a802-9590-4c6e-be86-dd137274dd44"
        },
        {
            "@type": "WorkflowStep",
            "name": "Get Input Confirmation",
            "description": null,
            "arguments": {
                "type": "InputBased",
                "input": {
                    "schema": {
                        "title": "Confirm System Configuration",
                        "description": "We have capture system configuration. Please confirm to proceed.\nYou can reduce  CPU & RAM number so that suggestion will not use all of CPU \/ RAM  or proceed to use complete CPU \/ RAM for system tune up.\n\n1. CPU - {{vars.system_config.CPU}}\n2. RAM - {{vars.system_config.RAM}}\n3. Disk IOPS - Read - {{vars.system_config[\"Disk IOPS - Read\"]}}\n4. Disk IOPS - Write - {{vars.system_config[\"Disk IOPS - Write\"]}}\n5. Disk latency - {{vars.system_config[\"Disk latency\"]}}\n6. SHMMAX - {{vars.system_config[\"SHMMAX\"]}}\n7. SHMALL - {{vars.system_config[\"SHMALL\"]}}",
                        "inputVariables": []
                    }
                },
                "record": "{{vars.steps.Create_Task_For_Tracking_Purposes['task_data']['@id']}}",
                "agent_id": null,
                "resources": "tasks",
                "is_approval": false,
                "owner_detail": {
                    "isAssigned": false,
                    "emailRecipients": ""
                },
                "isRecordLinked": true,
                "step_variables": {
                    "RAM": "{{(vars.system_config.RAM | int) - 10}}",
                    "sharedBuffersValue": "{{(((vars.system_config.RAM | int - 10)\/ 4 ) * 1024 ) | round}}"
                },
                "response_mapping": {
                    "options": [
                        {
                            "option": "Details Are Correct",
                            "primary": true,
                            "step_iri": "\/api\/3\/workflow_steps\/30c2508e-314c-4685-8d6c-874d9cb9a906"
                        },
                        {
                            "option": "Review Required",
                            "step_iri": "\/api\/3\/workflow_steps\/ee00efb2-c35f-48c1-ba0c-952e0c26f1e9"
                        }
                    ],
                    "duplicateOption": false,
                    "customSuccessMessage": "Awaiting Playbook resumed successfully."
                },
                "email_notification": {
                    "enabled": false,
                    "smtpParameters": []
                },
                "customEmailExternal": false,
                "inline_channel_list": [],
                "external_channel_list": [],
                "unauthenticated_input": false,
                "external_email_subject": null,
                "internal_email_subject": "A FortiSOAR playbook is requesting your input",
                "custom_email_body_external": null,
                "external_email_attachments": null
            },
            "status": null,
            "top": "60",
            "left": "20",
            "stepType": "\/api\/3\/workflow_step_types\/fc04082a-d7dc-4299-96fb-6837b1baa0fe",
            "group": "\/api\/3\/workflow_groups\/b82ea15b-40e4-441b-83d7-f5a2e15d1849",
            "uuid": "d08c763f-ea43-438e-bc06-ccaf4f860e06"
        },
        {
            "@type": "WorkflowStep",
            "name": "Get System Configuration",
            "description": null,
            "arguments": {
                "name": "SSH",
                "config": "739b5a4e-30ca-4c76-a1d7-0ee9d694cff4",
                "params": {
                    "cmd": "\/bin\/python3  \/opt\/cyops\/scripts\/get_system_details.py",
                    "allowed_exit": "-1,0",
                    "is_super_user": false
                },
                "message": {
                    "tags": [],
                    "type": "\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b",
                    "tenant": "",
                    "thread": false,
                    "content": "<p>Analyzing Your System for following details&nbsp;<\/p>\n<ol>\n<li>CPU<\/li>\n<li>RAM<\/li>\n<li>IOPS<\/li>\n<li>Disk Latency&nbsp;<\/li>\n<li>SHMALL<\/li>\n<li>SHMMAX<\/li>\n<\/ol>",
                    "records": "{{vars.steps.Create_Task_For_Tracking_Purposes['task_data']['@id']}}",
                    "parentstepid": "\/api\/3\/workflow_steps\/6f21ed23-bfc4-432b-b3c2-ff727ec34de6"
                },
                "version": "2.1.2",
                "connector": "ssh",
                "operation": "run_remote_command",
                "operationTitle": "Execute remote command",
                "pickFromTenant": false,
                "step_variables": {
                    "system_config": "{{vars.steps.Get_System_Configuration.data | toDict}}"
                }
            },
            "status": null,
            "top": "80",
            "left": "40",
            "stepType": "\/api\/3\/workflow_step_types\/0bfed618-0316-11e7-93ae-92361f002671",
            "group": "\/api\/3\/workflow_groups\/eb0451e1-793f-49d1-b6a4-d42b836a58b8",
            "uuid": "172235a2-b8ec-49f8-bd41-9a85dc089713"
        },
        {
            "@type": "WorkflowStep",
            "name": "Postgresql Configuration",
            "description": null,
            "arguments": {
                "workMem": "{{((vars.RAM *1024)-vars.sharedBuffersValue)\/(300 * 3)\/(vars.system_config.CPU  | int \/ 2) | round}}",
                "walBuffers": "{{((3 * vars.sharedBuffersValue | int ) \/ 100) | round }}",
                "workersPerGather": "4",
                "effectiveCacheSize": "{{((vars.RAM)* 3  * 1024 \/ 4 ) | round}}",
                "maintenanceWorkMem": "{{ ((vars.RAM)* 1024 \/ 16) | round }}",
                "randomPageCost_HDD": "4",
                "randomPageCost_SSD": "1.1",
                "max_parallel_workers": "{{vars.system_config.CPU}}",
                "max_worker_processes": "{{vars.system_config.CPU}}",
                "checkpointCompletionTarget": "0.9",
                "effectiveIoConcurrency_HDD": "2",
                "effectiveIoConcurrency_SSD": "200",
                "parallelMaintenanceWorkers": "4",
                "max_parallel_workers_per_gather": "{{(vars.system_config.CPU  | int \/ 2) | round}}"
            },
            "status": null,
            "top": "400",
            "left": "1000",
            "stepType": "\/api\/3\/workflow_step_types\/04d0cf46-b6a8-42c4-8683-60a7eaa69e8f",
            "group": null,
            "uuid": "30c2508e-314c-4685-8d6c-874d9cb9a906"
        },
        {
            "@type": "WorkflowStep",
            "name": "Report as Attachment",
            "description": null,
            "arguments": {
                "params": {
                    "name": "{{vars.steps.Create_Report_File.data.filename| regex_replace(\"_[0-9]+[\\.]html\", \"\")}}",
                    "filename": "{{vars.steps.Create_Report_File.data.filename}}",
                    "description": "This is Playbook Generated Report for System Configuration Recommendation",
                    "request_headers": "",
                    "multipart_headers": "",
                    "extra_multipart_fields": ""
                },
                "message": {
                    "tags": [],
                    "type": "\/api\/3\/picklists\/ff599189-3eeb-4c86-acb0-a7915e85ac3b",
                    "tenant": "",
                    "thread": false,
                    "content": "<p>Please click on following link to navigate to Attachments {% set uuid=vars.steps.Report_as_Attachment.data[\"@id\"]| regex_search(\"[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}\") %}&nbsp;<a href=\"\/modules\/view-panel\/attachments\/{{uuid}}\">{{vars.steps.Create_Report_File.data.filename| regex_replace(\"_[0-9]+[\\.]html\", \"\")}}<\/a><\/p>\n<p>&nbsp;<\/p>",
                    "records": "{{vars.steps.Create_Task_For_Tracking_Purposes['task_data']['@id']}}",
                    "parentstepid": "\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713"
                },
                "version": "3.2.5",
                "connector": "cyops_utilities",
                "operation": "create_cyops_attachment",
                "operationTitle": "File: Create Attachment from File",
                "step_variables": []
            },
            "status": null,
            "top": "60",
            "left": "700",
            "stepType": "\/api\/3\/workflow_step_types\/0109f35d-090b-4a2b-bd8a-94cbc3508562",
            "group": "\/api\/3\/workflow_groups\/c19cea31-9ef6-4da9-8753-6c1b7b4a398c",
            "uuid": "093cce4f-241a-455b-9fb3-d29b49822200"
        },
        {
            "@type": "WorkflowStep",
            "name": "Start",
            "description": null,
            "arguments": {
                "__triggerLimit": true,
                "step_variables": {
                    "input": {
                        "params": []
                    }
                },
                "triggerOnSource": true,
                "triggerOnReplicate": false
            },
            "status": null,
            "top": "120",
            "left": "40",
            "stepType": "\/api\/3\/workflow_step_types\/b348f017-9a94-471f-87f8-ce88b6a7ad62",
            "group": null,
            "uuid": "e028ac49-8dca-4e72-a1c1-fb8bdd76b997"
        }
    ],
    "routes": [
        {
            "@type": "WorkflowRoute",
            "name": "Check if Data is Present -> Based on error Create a task for Current User",
            "targetStep": "\/api\/3\/workflow_steps\/8fd73054-6787-455f-a9b4-4b1f548750ea",
            "sourceStep": "\/api\/3\/workflow_steps\/aade7fa0-1a34-4747-a56b-155403b54091",
            "label": "is present",
            "isExecuted": false,
            "group": null,
            "uuid": "e99e11ff-6cd5-4dcf-9df0-e15e53b35838"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Check if Data is Present -> Get Input Confirmation",
            "targetStep": "\/api\/3\/workflow_steps\/d08c763f-ea43-438e-bc06-ccaf4f860e06",
            "sourceStep": "\/api\/3\/workflow_steps\/aade7fa0-1a34-4747-a56b-155403b54091",
            "label": "is not present",
            "isExecuted": false,
            "group": null,
            "uuid": "dcacdb08-5203-4999-8e09-d25600c9bf4f"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Create Report File -> Report as Attachment",
            "targetStep": "\/api\/3\/workflow_steps\/093cce4f-241a-455b-9fb3-d29b49822200",
            "sourceStep": "\/api\/3\/workflow_steps\/818a4e86-1dd7-4ae0-be4c-7b593ca5fc27",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "10350091-30d2-4dc6-8065-0ed7b5b46f4a"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Create Task For Installing SSH connector and adding configuration -> Get System Configuration",
            "targetStep": "\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713",
            "sourceStep": "\/api\/3\/workflow_steps\/f0bab856-75ca-479a-9333-8a2512e0f9b6",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "a04a73d8-ad62-474c-b5c2-0ccfebb803f5"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Generate Report Code -> Create Report File",
            "targetStep": "\/api\/3\/workflow_steps\/818a4e86-1dd7-4ae0-be4c-7b593ca5fc27",
            "sourceStep": "\/api\/3\/workflow_steps\/f840a802-9590-4c6e-be86-dd137274dd44",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "048ee09f-53cf-4a7c-8640-1bc0dd155553"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Get Input Confirmation -> Create a Task to change the confguration and rerun this playbook",
            "targetStep": "\/api\/3\/workflow_steps\/ee00efb2-c35f-48c1-ba0c-952e0c26f1e9",
            "sourceStep": "\/api\/3\/workflow_steps\/d08c763f-ea43-438e-bc06-ccaf4f860e06",
            "label": "Review Required",
            "isExecuted": false,
            "group": null,
            "uuid": "34000689-7158-47e3-ace3-a9dcf2cff8c6"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Get Input Confirmation -> Postgresql Configuration",
            "targetStep": "\/api\/3\/workflow_steps\/30c2508e-314c-4685-8d6c-874d9cb9a906",
            "sourceStep": "\/api\/3\/workflow_steps\/d08c763f-ea43-438e-bc06-ccaf4f860e06",
            "label": "Details Are Correct",
            "isExecuted": false,
            "group": null,
            "uuid": "d1fc5c73-b8bb-4969-8a3c-ed7fa5d08344"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Get System Configuration -> Check if Data is Present",
            "targetStep": "\/api\/3\/workflow_steps\/aade7fa0-1a34-4747-a56b-155403b54091",
            "sourceStep": "\/api\/3\/workflow_steps\/172235a2-b8ec-49f8-bd41-9a85dc089713",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "8d131efc-2f35-452f-9860-90ffd3fce1ba"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Postgresql Configuration -> Generate Report Code",
            "targetStep": "\/api\/3\/workflow_steps\/f840a802-9590-4c6e-be86-dd137274dd44",
            "sourceStep": "\/api\/3\/workflow_steps\/30c2508e-314c-4685-8d6c-874d9cb9a906",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "cea92ca2-710f-42a1-9e3d-8ecc6dd34cda"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Report as Attachment -> Attach Attachment to Task",
            "targetStep": "\/api\/3\/workflow_steps\/6691b809-52e3-4752-a1ef-3a8be61b502a",
            "sourceStep": "\/api\/3\/workflow_steps\/093cce4f-241a-455b-9fb3-d29b49822200",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "de4fc3a5-298d-4677-819f-7d32a8c87511"
        },
        {
            "@type": "WorkflowRoute",
            "name": "Start -> Create Task For Installing SSH connector and adding configuration",
            "targetStep": "\/api\/3\/workflow_steps\/f0bab856-75ca-479a-9333-8a2512e0f9b6",
            "sourceStep": "\/api\/3\/workflow_steps\/e028ac49-8dca-4e72-a1c1-fb8bdd76b997",
            "label": null,
            "isExecuted": false,
            "group": null,
            "uuid": "646000f8-0787-4b12-8827-7f2e6c58390a"
        }
    ],
    "groups": [
        {
            "@type": "WorkflowGroup",
            "name": "Checking For Error and Create task to resolve error",
            "description": "There are two types of error that can occur, first due to PGSQL directory is not mounted and second one because of some command is not installed",
            "type": "block",
            "isCollapsed": false,
            "hasTriggerStep": false,
            "hideInLogs": false,
            "metadata": [],
            "reusable": false,
            "top": "40",
            "left": "980",
            "height": "174",
            "width": "679",
            "uuid": "46b2eef9-1f05-4ac5-b7ab-b88729b74ad7",
            "recordTags": []
        },
        {
            "@type": "WorkflowGroup",
            "name": "Generate System Config Recomendation",
            "description": "",
            "type": "block",
            "isCollapsed": false,
            "hasTriggerStep": false,
            "hideInLogs": false,
            "metadata": [],
            "reusable": false,
            "top": "480",
            "left": "940",
            "height": "164",
            "width": "991",
            "uuid": "c19cea31-9ef6-4da9-8753-6c1b7b4a398c",
            "recordTags": []
        },
        {
            "@type": "WorkflowGroup",
            "name": "Get System Details",
            "description": "This step uses python script to return you the system configuration",
            "type": "block",
            "isCollapsed": false,
            "hasTriggerStep": false,
            "hideInLogs": false,
            "metadata": [],
            "reusable": false,
            "top": "40",
            "left": "640",
            "height": "171",
            "width": "319",
            "uuid": "eb0451e1-793f-49d1-b6a4-d42b836a58b8",
            "recordTags": []
        },
        {
            "@type": "WorkflowGroup",
            "name": "User Review",
            "description": "",
            "type": "block",
            "isCollapsed": false,
            "hasTriggerStep": false,
            "hideInLogs": false,
            "metadata": [],
            "reusable": false,
            "top": "220",
            "left": "980",
            "height": "167",
            "width": "688",
            "uuid": "b82ea15b-40e4-441b-83d7-f5a2e15d1849",
            "recordTags": []
        }
    ],
    "priority": "\/api\/3\/picklists\/2b563c61-ae2c-41c0-a85a-c9709585e3f2",
    "uuid": "abea60a3-004c-406a-be9f-16765f6f12ac",
    "owners": [],
    "isPrivate": false,
    "deletedAt": null,
    "recordTags": [
        "system",
        "System Config Recommendation"
    ]
}